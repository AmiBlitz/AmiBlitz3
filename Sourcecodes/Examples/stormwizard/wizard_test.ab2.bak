;DEBUG
Syntax 4
DEFTYPE .l
optimize 7
WBStartup
FindScreen(0)
;Screen 1,11
i$="arg0":WZListAdd lv1.List,"test"
WZWindow 1,?SurfaceData,250    ;surface for Window
WZEnable 15
a$=WZGetString ("name")
WZPrint "lst1",s.b,lv1.List
 If ChDir ("dh0:")
  While MoreEntries
  ;no num For sorted List
  WZListAdd lv1.List,EntryName$
  Wend
End If
WZPrint "lst1",1,lv1;Before attach list you must call wzlistadd before
                     ;or you get Enforcer Hits
WZPrint "lst1",1,0 ;set to 0 when use of wzlistadd or wzlistremove
WZTags #WENTRYA_TextStyle,#FSF_BOLD,#WENTRYA_TextPen,2
WZListAdd lv1.List,"Colour Text",5
WZListRemove lv1,15
WZListAdd lv1,"test2",15
x.l=WZListAddr (lv1,4)
WZPrint "lst1",10,lv1,10
;WZPrint "sl1",1,-100,100
WZMenuSet "togg1",0
ret.l = WZMenuGet ("togg1")
WTitle Str$(ret)
Repeat:
ev.l=WaitEvent
Use Window EventWindow
WLocate 10,12
Format "##############"
Select EventWindow
 Case 1:               ;message of first window
  Select ev
      Case #IDCMP_CLOSEWINDOW:exit=1
      Case $400000 :Print EventQualifier
      Case #IDCMP_MENUPICK
        Select WZMenuName
            Case "quit": exit=1
            Case "2": exit=1
        End Select
      Case #IDCMP_IDCMPUPDATE
          Select WZGadName
            Case "but2":
               WZListRemove child1.List
               WZListRemove child2.List
               WZListRemove maintree.List
               WZWindow 2,?SurfaceData,200:
               tree1.l=WZListAddTree (maintree.List,"meine",0,-1,child1) ;set child 1 as child
               WZTags #WENTRYA_TreePen,2    ;set one entry To white
               WZListAddTree child1.List,"child1",tree1 ;is a child of tree1
               tree2.l=WZListAddTree (child1     ,"child2",tree1,-1,child2.List)
               WZListAddTree child2.List,"child2_1",tree2,-1,0,$12345678
               WZListAddTree child2.List,"child2_2",tree2
               WZListAddTree child2.List,"child2_3",tree2
               WZListAddTree maintree.List,"mainnode",0,-2
               WZPrint "hr1",0,maintree
                    ;Use Window EventWindow
            Case "name":name$=WZInputstr:WZPrint "argg1",&name$
            Case "Intgad1":sl=WZInput:WZPrint "sl1",sl
            Case "sl1":sl=WZInput
            Case "lst1":
                  var2$=WZListString(lv1,WZInput)
                  WZPrint "argg1",&var2$,WZDoubleClick
          End Select
     Case #IDCMP_MENUHELP:
     Case #IDCMP_GADGETHELP:
           WTitle WZGadHelp
           ;a$=WZGadgetConfig (WZHandle,WZGadAddr("argg1"))
           ;WTitle a$
     Case #IDCMP_MOUSEMOVE:
    End Select
  Case 2:             ;message of second window
      Select ev
      Case #IDCMP_CLOSEWINDOW:WZCloseWindow 2:
      Case $400000 :
      Case #IDCMP_MENUPICK
        Select WZMenuName
        End Select
      Case #IDCMP_IDCMPUPDATE
          Select WZGadName
          Case "hr1"
                           ;hierachy Gadget
          node.l=WZGetNode(maintree)     ;get the current item
          ;WTitle WZListString(node,0)+"  "+Hex$(WZListData(node,0))+" "+Str$(WZDoubleClick)
          End Select
     Case #IDCMP_MENUHELP:
     Case #IDCMP_GADGETHELP:
     Case #IDCMP_MOUSEMOVE:
    End Select
 End Select
Until exit=1
End
SurfaceData: IncBin "test2.Wizard"
SurfaceDataEnd:

