WBStartup

XINCLUDE "blitz2:includes/select.gadget.bb2"

*lib.Library = OpenLibrary_("select.gadget",0)

If *lib = 0
 Request "Error","Select.Gadget not found !","Ok"
 End
EndIf

*lpub._Screen = LockPubScreen_(0)
If *lpub
 *dri.DrawInfo = GetScreenDrawInfo_(*lpub)
 If *dri
Dim wintags.TagItem(12)
 wintags(0)\ti_Tag  = #WA_Left         ,(*lpub\Width/2) - 100
 wintags(1)\ti_Tag  = #WA_Top          ,(*lpub\Height/2) - 50
 wintags(2)\ti_Tag  = #WA_Width        ,200
 wintags(3)\ti_Tag  = #WA_Height       ,110
 wintags(4)\ti_Tag  = #WA_CloseGadget  ,1
 wintags(5)\ti_Tag  = #WA_DepthGadget  ,1
 wintags(6)\ti_Tag  = #WA_DragBar      ,1
 wintags(7)\ti_Tag  = #WA_SimpleRefresh,1
 wintags(8)\ti_Tag  = #WA_Activate     ,1
 wintags(9)\ti_Tag  = #WA_Title        ,Null("Select.gadget")
 wintags(10)\ti_Tag = #WA_IDCMP        ,#IDCMP_CLOSEWINDOW|#IDCMP_GADGETUP|#IDCMP_REFRESHWINDOW
 wintags(11)\ti_Tag = #TAG_END         ,0

*win._Window = OpenWindowTagList_(0,&wintags(0))
If *win
DEFTYPE.Gadget *gad1

Dim labs.TagItem(3)
labs(0)\ti_Tag = Null("Label 1"),Null("Label 2")  ;all strings must be terminated null!?
labs(1)\ti_Tag = Null("Label 3"),Null("Label 4")  ;if gad or windowtext DC.b "..." my computer will crash
labs(2)\ti_Tag = #TAG_END,0

Dim gadtags.TagItem(16)
 gadtags(0)\ti_Tag  = #GA_Left        ,20
 gadtags(1)\ti_Tag  = #GA_Top         ,35
 gadtags(2)\ti_Tag  = #GA_RelVerify   ,1
 gadtags(3)\ti_Tag  = #GA_DrawInfo    ,*dri
 gadtags(4)\ti_Tag  = #GA_Text        ,Null("Test me")
 gadtags(5)\ti_Tag  = #GA_ID          ,1
 gadtags(6)\ti_Tag  = #GA_Height      ,20
 gadtags(7)\ti_Tag  = #SGA_TextPlace  ,#PLACETEXT_ABOVE
 gadtags(8)\ti_Tag  = #SGA_Labels     ,&labs(0)
 gadtags(9)\ti_Tag  = #SGA_Separator  ,0
 gadtags(10)\ti_Tag = #SGA_ItemSpacing,2
 gadtags(11)\ti_Tag = #SGA_FollowMode ,#SGFM_FULL
 gadtags(12)\ti_Tag = #SGA_MinTime    ,100
 gadtags(13)\ti_Tag = #SGA_MaxTime    ,100
 gadtags(14)\ti_Tag = #SGA_PanelMode  ,#SGPM_DIRECT_NB
 gadtags(15)\ti_Tag = #TAG_END        ,0

*gad1 = NewObjectA_(0,"selectgclass",&gadtags(0))
If *gad1
Dim gadtags2.TagItem(17)
 gadtags2(0)\ti_Tag  = #GA_Previous    ,*gad1
 gadtags2(1)\ti_Tag  = #GA_Left        ,100
 gadtags2(2)\ti_Tag  = #GA_Top         ,35
 gadtags2(3)\ti_Tag  = #GA_RelVerify   ,1
 gadtags2(4)\ti_Tag  = #GA_DrawInfo    ,*dri
 gadtags2(5)\ti_Tag  = #GA_Text        ,Null("Test me")
 gadtags2(6)\ti_Tag  = #GA_ID          ,2
 gadtags2(7)\ti_Tag  = #GA_Height      ,20
 gadtags2(8)\ti_Tag  = #SGA_TextPlace  ,#PLACETEXT_ABOVE
 gadtags2(9)\ti_Tag  = #SGA_Labels     ,&labs(0)
 gadtags2(10)\ti_Tag = #SGA_Separator  ,1
 gadtags2(11)\ti_Tag = #SGA_ItemSpacing,2
 gadtags2(12)\ti_Tag = #SGA_FollowMode ,#SGFM_FULL
 gadtags2(13)\ti_Tag = #SGA_MinTime    ,300
 gadtags2(14)\ti_Tag = #SGA_MaxTime    ,300
 gadtags2(15)\ti_Tag = #SGA_PanelMode  ,#SGPM_DIRECT_NB
 gadtags2(16)\ti_Tag = #TAG_END        ,0

*gad2 = NewObjectA_(0,"selectgclass",&gadtags2(0))

Dim gadtags3.TagItem(20)
 gadtags3(0)\ti_Tag  = #GA_Previous    ,*gad2
 gadtags3(1)\ti_Tag  = #GA_Left        ,20
 gadtags3(2)\ti_Tag  = #GA_Top         ,75
 gadtags3(3)\ti_Tag  = #GA_RelVerify   ,1
 gadtags3(4)\ti_Tag  = #GA_DrawInfo    ,*dri
 gadtags3(5)\ti_Tag  = #GA_Text        ,Null("Test me")
 gadtags3(6)\ti_Tag  = #GA_ID          ,3
 gadtags3(7)\ti_Tag  = #GA_Height      ,20
 gadtags3(8)\ti_Tag  = #SGA_TextPlace  ,#PLACETEXT_ABOVE
 gadtags3(9)\ti_Tag  = #SGA_Labels     ,&labs(0)
 gadtags3(10)\ti_Tag = #SGA_Separator  ,1
 gadtags3(11)\ti_Tag = #SGA_ItemSpacing,2
 gadtags3(12)\ti_Tag = #SGA_SymbolOnly ,1
 gadtags3(13)\ti_Tag = #SGA_SymbolWidth,-21
 gadtags3(14)\ti_Tag = #SGA_Sticky     ,1
 gadtags3(15)\ti_Tag = #SGA_PopUpPos   ,#SGPOS_BELOW
 gadtags3(16)\ti_Tag = #SGA_BorderSize ,4
 gadtags3(17)\ti_Tag = #SGA_PopUpDelay ,1
 gadtags3(18)\ti_Tag = #SGA_MinTime    ,700
 gadtags3(19)\ti_Tag = #TAG_END        ,0

*gad3 = NewObjectA_(0,"selectgclass",&gadtags3(0))

Dim gadtags4.TagItem(20)
 gadtags4(0)\ti_Tag  = #GA_Previous    ,*gad3
 gadtags4(1)\ti_Tag  = #GA_Left        ,100
 gadtags4(2)\ti_Tag  = #GA_Top         ,75
 gadtags4(3)\ti_Tag  = #GA_RelVerify   ,1
 gadtags4(4)\ti_Tag  = #GA_DrawInfo    ,*dri
 gadtags4(5)\ti_Tag  = #GA_Text        ,Null("Test me")
 gadtags4(6)\ti_Tag  = #GA_ID          ,3
 gadtags4(7)\ti_Tag  = #GA_Height      ,20
 gadtags4(8)\ti_Tag  = #SGA_TextPlace  ,#PLACETEXT_ABOVE
 gadtags4(9)\ti_Tag  = #SGA_Labels     ,&labs(0)
 gadtags4(10)\ti_Tag = #SGA_Quiet      ,1
 gadtags4(11)\ti_Tag = #SGA_ItemSpacing,3
 gadtags4(12)\ti_Tag = #SGA_SymbolOnly ,1
 gadtags4(13)\ti_Tag = #SGA_SymbolWidth,-21
 gadtags4(14)\ti_Tag = #SGA_Sticky     ,0
 gadtags4(15)\ti_Tag = #SGA_ListJustify,#SGJ_LEFT
 gadtags4(16)\ti_Tag = #SGA_DropShadow ,1
 gadtags4(17)\ti_Tag = #SGA_MinTime    ,150
 gadtags4(18)\ti_Tag = #TAG_END        ,0

*gad4 = NewObjectA_(0,"selectgclass",&gadtags4(0))

AddGList_ *win,*gad1,0,0,0
RefreshGList_ *gad1,*win,0,0

DEFTYPE.IntuiMessage *imsg

loop=1
 While loop
  WaitPort_ *win\UserPort
   *imsg=GetMsg_(*win\UserPort)
   *class = *imsg\Class
     ReplyMsg_ *imsg

 Select *class
  Case #IDCMP_CLOSEWINDOW
  loop=0
 End Select
 Wend
 DisposeObject_ *gad4
 DisposeObject_ *gad3
 DisposeObject_ *gad2
 DisposeObject_ *gad1
 FreeScreenDrawInfo_ *lpub,*dri
 CloseWindow_ *win
 UnlockPubScreen_ 0,*lpub
 CloseLibrary_ *lib
 EndIf:EndIf:EndIf:EndIf
End

