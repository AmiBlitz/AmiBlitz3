; XTRA
; Embedded .xtra Header
; 
; General Info
; -------------------------------------------------------
; ExePath         = "sys:"
; ExeFile         = "ntuitest"
; CreateIcon      = 0
; Residents       = "all.res"
; 
; Compiler
; -------------------------------------------------------
; StringBuffer    = 100000
; MakeSmallest    = 1
; FuncOptimize    = 1
; Version         = 0.0.0
; NumberOfBuilds  = 31
; 
; Debugger
; -------------------------------------------------------
; CliArgs         = ""
; StackSize       = 80000
; RuntimeDebug    = 0
; DebugInfo       = 0
; CreateDbgFile   = 0
; OverflowCheck   = 0
; AssemblerCheck  = 0
; InterruptCheck  = 1
; AutoRun         = 1
; 
; Editor
; -------------------------------------------------------
; CursorLine      = 10
; CursorColumn    = 1
; LabelSearch     = ""
; LabelRemark     = 0
; LabelAll        = 0
; LabelPosition   = 0
; 
; Blitz Objects
; -------------------------------------------------------
; Max IconInfo    = 1
; Max NChunky     = 50
; Max MUIObject   = 50
; Max PTModule    = 5
; Max AsyncReq    = 4
; Max Req-Lib     = 5
; Max GTMenuList  = 100
; Max Console     = 5
; Max TCPSock     = 5
; Max XBSound     = 10
; Max Chunky      = 20
; Max File        = 100
; Max GadgetList  = 100
; Max Queue       = 10
; Max Screen      = 5
; Max Shape       = 200
; Max CopList     = 10
; Max Sprite      = 20
; Max Stencil     = 5
; Max Module      = 5
; Max Window      = 100
; Max Anim        = 10
; Max Sound       = 10
; Max Bank        = 1
; Max Buffer      = 10
; Max BitMap      = 10
; Max Slice       = 10
; Max Page        = 4
; Max Tape        = 5
; Max IntuiFont   = 10
; Max MedModule   = 8
; Max Palette     = 4
; Max MenuList    = 100
; Max BlitzFont   = 1
; Max GTList      = 100
; /XTRA
Syntax 6
optimize 7

XINCLUDE "NTUI/main.ab3" ; NTUI library
XINCLUDE "NTUI/xml.ab3" ; XML builder
XINCLUDE "NTUI/utilities.ab3" ; handy functions

CNIF #__include=0 ;/* ************* DEMO ************
WBStartup

XINCLUDE "NTUI/builder.ab3"

CNIF @#TUI_HAS_CUSTOMVIEW
myDispatchEvent:
Function.l myDispatchEvent{*customView.tuiCustomView,*ev.tuiEvent}

  done.l = False
  
  Select  *ev\id

    Case #TUIEV_TICK  : done=True  ; this event is done!

  End Select

  ; call the super-class function if not done
  If done=False Then done = _ntui_DispatchCustomViewEvent{*customView,*ev}

  Function Return done

End Function
!_MakeGlobalFuncPointer{myDispatchEvent,{Null,Null}}
CEND

myProgressCallback:
Function.l myProgressCallback{*obj.tuiObject,*ev.tuiEvent,*notify.str}

  SHARED dummyprogress.l,tickcount.l
  tickcount+1
  If tickcount>5
    tickcount=0
    dummyprogress +1
    If dummyprogress>100 Then dummyprogress=0
    ntui_SetValueByID{*obj,"SBAR",dummyprogress}

    tabnum.l = dummyprogress & $3-1
    ntui_SetAttrByID{*obj\engine,"expa",#TUITVA_ACTIVETAB,tabnum}

  End If

  Function Return True

End Function
!_MakeGlobalFuncPointer{myProgressCallback,{Null,Null,Null}}

*engine.tuiEngine = ntuib_Engine{"NTUI-Demo","NTUI","NTUI-Demo-Menu","Sys:disk",""}
If *engine=Null Then error{"Unable to initialized Engine!"} : End ; Ooops!
ntui_SetAttr{*engine,#TUIEA_USEAISS,0}
ntui_SetAttr{*engine,#TUIEA_BORDERSTYLE,1}
ntui_SetAttr{*engine,#TUIEA_FILLSTYLE,1}
ntui_SetAttr{*engine,#TUIEA_BUFFEREDDRAW,1}
buttonskin.s = "/Data/button.9.png"
;ntui_SetAttr{*engine,#TUIEA_DEFPADDING,2}
;ntui_SetAttr{*engine,#TUIEA_DEFMARGIN,2}
If ntui_PopUp{*engine}=False Then error{"Unable to pop up!"}:End ; whats wrong with the screen!?

ntui_BuildFromXMLMem{*engine,?xmldata}
;ntui_BuildFromXMLFile{*engine,"/Data/ntuitest.xml"}

ntui_BeginBuild{*engine}
*demoWin.tuiWindow= ntuib_BeginWindow{"Demo Window","DEMO",12345}
If *demoWin
  ntui_SetAttr{*demoWin,#TUIWA_ONTICKCB,*myProgressCallback}
  a.s = "SYS:Prefs/Presets/Backdrops/1280x1024/Dragon2.iff"
  ;ntui_SetAttr{*demoWin,#TUIA_BGIMAGE,&a}
  a.s ="QUIT"
  ntui_SetAttr{*demoWin,#TUIWA_ONCLOSE,&a}
  CNIF @#TUI_HAS_TABVIEW
  ntuib_BeginTabView{0,#TUITABSTYLE_TOP,"",-1,"TabView"}
  CEND
    *obj.tuiObject = ntuib_BeginVGroup{1,"Label"}
      ntuib_BeginHGroup{1}
        *obj = ntuib_Label    {"Label"}   : a.s = "Test!" : ntui_SetAttr{*obj,#TUIA_HELP,&a.s}
        ntuib_Label    {"Bold Label",#TUIF_BOLD}
        ntuib_Label    {"Italic Label",#TUIF_ITALIC}
        ntuib_Label    {"Italic+Bold Label",#TUIF_ITALIC|#TUIF_BOLD}
        ntuib_Label    {"Underlined Label",#TUIF_UNDERLINED}
        ntuib_Label    {"Small Font Label",#TUIF_SMALL}
        ntuib_Label    {"Serif Font Label",#TUIF_SERIF}
        ntuib_Label    {"Fix Font Label",#TUIF_FIX}
        ntuib_Label    {"Disabled Label",#TUIF_DISABLED}
        ntuib_Label    {"Left Aligned Label",#TUIF_LEFT}
        ntuib_Label    {"Right Aligned Label",#TUIF_RIGHT}
        CNIF @#TUI_HAS_TEXTBOX
        *con.tuiTextBox = ntuib_Console {"NTUI Console 1.0\\nReady.\\n",100,"",#TUIF_FIX,"CON"}
        pipe.s = "Pipe:console"
        ;CNIF #__debug=0
        ;ntui_SetTextBoxFileListener{*con,&pipe}
        ;CEND
        CELSE
        CNIF @#TUI_HAS_SPACE
        ntuib_Space{0,0}
        CEND
        CEND
      ntui_EndGroup{}
    ntui_EndGroup{}

    CNIF @#TUI_HAS_BUTTON
    *obj = ntuib_BeginHGroup{0,"Button"}
       ;     imeagefile.s = "NTUI:button.9.png"
       ;     ntui_SetAttr{*obj,#TUIA_BGIMAGE,&imagefile}

      ntuib_BeginHGroup{2}
        ntuib_Label    {"Push Button",#TUIF_RIGHT}
        ntuib_Button   {"Button","","TEST","this is a very basic push-button with text"}

        ntuib_Label    {"Toggle Button",#TUIF_RIGHT}
        ntuib_Button   {"Toggle","","","this is a toggle button (on/off)",#TUIF_TOGGLE}

        ntuib_Label    {"Bold Button",#TUIF_RIGHT}
        ntuib_Button   {"Bold","","","this is a button using bold font",#TUIF_BOLD}

        ntuib_Label    {"Italic Button",#TUIF_RIGHT}
        ntuib_Button   {"Italic","","","this is a button using italic font",#TUIF_ITALIC}

        ntuib_Label    {"Italic+Bold Button",#TUIF_RIGHT}
        ntuib_Button   {"Italic+Bold","","","this is an italic and bold button",#TUIF_BOLD|#TUIF_ITALIC}

        ntuib_Label    {"Underlined Button",#TUIF_RIGHT}
        ntuib_Button   {"Underlined","","","this is an underlined button",#TUIF_UNDERLINED}

        ntuib_Label    {"Small Button",#TUIF_RIGHT}
        ntuib_Button   {"Small","","","this is a button using small font",#TUIF_SMALL}

        ntuib_Label    {"Serif Button",#TUIF_RIGHT}
        ntuib_Button   {"Serif","","","this is a button using big font",#TUIF_SERIF}

        ntuib_Label    {"Fix Button",#TUIF_RIGHT}
        ntuib_Button   {"Fix","","","this is a button using fix font",#TUIF_FIX}

        ntuib_Label    {"Disabled Button",#TUIF_RIGHT}
        ntuib_Button   {"Disabled","","","this is a disabled button",#TUIF_DISABLED}

        ntuib_Label    {"Left Button",#TUIF_RIGHT}
        ntuib_Button   {"Left","","","this is a button with left-aligned text",#TUIF_LEFT}

        ntuib_Label    {"Right Button",#TUIF_RIGHT}
        ntuib_Button   {"Right","","","this is a button with right-aligned text",#TUIF_RIGHT}

        ntuib_Label    {"Skinned Button",#TUIF_RIGHT}
        *btn.tuiButton=ntuib_Button   {"Skin","","","this is a button with 9-patch image skin"}

        ntui_SetAttr{*btn,#TUIA_BGIMAGE,&buttonskin}

        ntuib_Space{0,0} : ntuib_Space{0,0}

      ntui_EndGroup{}
      CNIF @#TUI_HAS_SEPERATOR
      ntuib_VSeperator{""}
      CEND

      ntuib_BeginHGroup{2}
        ntuib_Label    {"Arrow Buttons",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
          ntuib_FunctionButton{#TUIFUNC_UP     ,"this is an arrow button"}
          ntuib_FunctionButton{#TUIFUNC_DOWN   ,"this is an arrow button"}
          ntuib_FunctionButton{#TUIFUNC_LEFT   ,"this is an arrow button"}
          ntuib_FunctionButton{#TUIFUNC_RIGHT  ,"this is an arrow button"}
          ntuib_FunctionButton{#TUIFUNC_UP     ,"this is an arrow button",#TUIF_DISABLED}
          ntuib_FunctionButton{#TUIFUNC_DOWN   ,"this is an arrow button",#TUIF_DISABLED }
          ntuib_FunctionButton{#TUIFUNC_LEFT   ,"this is an arrow button",#TUIF_DISABLED }
          ntuib_FunctionButton{#TUIFUNC_RIGHT  ,"this is an arrow button",#TUIF_DISABLED }
          ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}
        ntuib_Label    {"Outlined Arrow Buttons",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
          ntuib_FunctionButton{#TUIFUNC_UP   ,"this is an outlined arrow button"}
          ntuib_FunctionButton{#TUIFUNC_DOWN ,"this is an outlined arrow button"}
          ntuib_FunctionButton{#TUIFUNC_LEFT ,"this is an outlined arrow button"}
          ntuib_FunctionButton{#TUIFUNC_RIGHT,"this is an outlined arrow button"}
          ntuib_FunctionButton{#TUIFUNC_UP   ,"this is an outlined arrow button",#TUIF_DISABLED }
          ntuib_FunctionButton{#TUIFUNC_DOWN ,"this is an outlined arrow button",#TUIF_DISABLED }
          ntuib_FunctionButton{#TUIFUNC_LEFT ,"this is an outlined arrow button",#TUIF_DISABLED }
          ntuib_FunctionButton{#TUIFUNC_RIGHT,"this is an outlined arrow button",#TUIF_DISABLED }
          ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}
;        ntuib_Label    {"Menu Arrow Buttons",#TUIF_RIGHT}
;        ntuib_BeginHGroup{0}
;          ntuib_FunctionButton{#TUIFUNC_POPUP       ,"this is a pop up button"}
;          ntuib_FunctionButton{#TUIFUNC_DROPDOWN    ,"this is a drop down button"}
;          ntuib_FunctionButton{#TUIFUNC_LEFT        ,"this is a left menu button"}
;          ntuib_FunctionButton{#TUIFUNC_RIGHT       ,"this is a right menu button"}
;          ntuib_FunctionButton{#TUIFUNC_POPUP       ,"this is a pop up button",#TUIF_DISABLED }
;          ntuib_FunctionButton{#TUIFUNC_DROPDOWN    ,"this is a drop down button",#TUIF_DISABLED }
;          ntuib_FunctionButton{#TUIFUNC_LEFT        ,"this is a left menu button",#TUIF_DISABLED }
;          ntuib_FunctionButton{#TUIFUNC_RIGHT       ,"this is a right menu button",#TUIF_DISABLED }
;          ntuib_Space{0,0,#TUIF_FIXHEIGHT}
;        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}
        ntuib_Label    {"ASL Buttons",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
;          ntuib_FunctionButton{#TUIFUNC_PATH        ,"this is a button to pop up an ASL path requester"}
;          ntuib_FunctionButton{#TUIFUNC_SAVE        ,"this is a button to pop up an ASL file requester in save mode"}
;          ntuib_FunctionButton{#TUIFUNC_FILE        ,"this is a button to pop up an ASL file requester in open mode"}
;          ntuib_FunctionButton{#TUIFUNC_FONT        ,"this is a button to pop up an ASL font requester"}
;          ntuib_FunctionButton{#TUIFUNC_SCREEN      ,"this is a button to pop up an ASL screenmode requester"}
;          ntuib_FunctionButton{#TUIFUNC_PATH        ,"this is a button to pop up an ASL path requester",#TUIF_DISABLED }
;          ntuib_FunctionButton{#TUIFUNC_SAVE        ,"this is a button to pop up an ASL file requester in save mode",#TUIF_DISABLED }
;          ntuib_FunctionButton{#TUIFUNC_FILE        ,"this is a button to pop up an ASL file requester in open mode",#TUIF_DISABLED }
;          ntuib_FunctionButton{#TUIFUNC_FONT        ,"this is a button to pop up an ASL font requester",#TUIF_DISABLED }
;          ntuib_FunctionButton{#TUIFUNC_SCREEN      ,"this is a button to pop up an ASL screenmode requester",#TUIF_DISABLED }
;
          ntuib_ImageButton{"","TBImages:help"        ,"req_info","this is a button to pop up an info requester"}
          ntuib_ImageButton{"","PATH"        ,"req_path","this is a button to pop up an path requester"}
          ntuib_ImageButton{"","SAVE"        ,"req_save","this is a button to pop up an file requester in save mode"}
          ntuib_ImageButton{"","FILE"        ,"req_file","this is a button to pop up an file requester in open mode"}
          ntuib_ImageButton{"","FONT"        ,"req_font","this is a button to pop up an font requester"}
          ntuib_ImageButton{"","SCREEN"      ,"req_screen","this is a button to pop up an screenmode requester"}
          ntuib_ImageButton{"","PATH"        ,"req_path","this is a button to pop up an path requester",#TUIF_DISABLED }
          ntuib_ImageButton{"","SAVE"        ,"req_save","this is a button to pop up an file requester in save mode",#TUIF_DISABLED }
          ntuib_ImageButton{"","FILE"        ,"req_file","this is a button to pop up an file requester in open mode",#TUIF_DISABLED }
          ntuib_ImageButton{"","FONT"        ,"req_font","this is a button to pop up an font requester",#TUIF_DISABLED }
          ntuib_ImageButton{"","SCREEN"      ,"req_screen","this is a button to pop up an screenmode requester",#TUIF_DISABLED }


          ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}

        ntuib_Label    {"Other Buttons",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
          ntuib_FunctionButton{#TUIFUNC_INC         ,"this is a button to increase a value"}
          ntuib_FunctionButton{#TUIFUNC_DEC         ,"this is a button to decrease a value"}
          ntuib_FunctionButton{#TUIFUNC_SPIN        ,"this is a button to in/decrease a value"}
;          ntuib_FunctionButton{#TUIFUNC_PLUSMINUS   ,"this is a button to in/decrease a value"}
          ntuib_FunctionButton{#TUIFUNC_INC         ,"this is a button to increase a value",#TUIF_DISABLED }
          ntuib_FunctionButton{#TUIFUNC_DEC         ,"this is a button to decrease a value",#TUIF_DISABLED }
          ntuib_FunctionButton{#TUIFUNC_SPIN       ,"this is a button to in/decrease a value",#TUIF_DISABLED }
;          ntuib_FunctionButton{#TUIFUNC_PLUSMINUS   ,"this is a button to in/decrease a value",#TUIF_DISABLED }
          ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}

        ntuib_Label    {"CheckBox",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
        ntuib_CheckBox{1,"","this is an on/off checkbox"}
        ntuib_CheckBox{0,"","this is an on/off checkbox"}
        ntuib_CheckBox{1,"","this is an on/off checkbox",#TUIF_DISABLED}
        ntuib_CheckBox{0,"","this is an on/off checkbox",#TUIF_DISABLED}
        ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}

        ntuib_Label    {"Radio Button",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
        ntuib_RadioButton  {"Option 1",0,"","this is a radio button with text",-1,"op1"}
        ntuib_RadioButton  {"Option 2",1,"","this is a radio button with text",-1,"op2"}
        ntuib_RadioButton  {"Option 3",0,"","this is a radio button with text",#TUIF_DISABLED,"op3"}
        ntui_BindByID{*engine,"op1","op2"}
        ntui_BindByID{*engine,"op2","op3"}
        ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}

        ntuib_Label    {"Check Button",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
        ntuib_CheckButton  {"Check 1",1,"","this is a check button with text"}
        ntuib_CheckButton  {"Check 2",0,"","this is a check button with text"}
        ntuib_CheckButton  {"Check 3",1,"","this is a check button with text",#TUIF_DISABLED}
        ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}


        CNIF @#TUI_HAS_CYCLE
        ntuib_Label    {"Cycle",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
        ntuib_Cycle{"Wanderer|Honitos|Blackbird|CJ Stroker|BruZard|Modfr|Wawa|HelmutH|Bernd_|Theoderich",-2,"this is a cycle button",-1,"CYCL"}

        ntuib_Cycle{"A|B|C",0,"this is a cycle button",#TUIF_DISABLED}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}
        CEND

        ntuib_Label    {"Button +Image",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
        *btn = ntuib_Button   {"Image","SAVE","","this is an image button with text"}
        ntui_SetAttr{*btn,#TUIA_BGIMAGE,&buttonskin}


        ntuib_Button   {"Image","SAVE","","this is a button with in in-line image (image at text size)"}
        ntuib_Button   {"Image","SAVE","","this is a button with in in-line image (image at text size)",#TUIF_DISABLED}
        ntuib_Button   {"Image","TBImages:save","","this is a button with in in-line image (image at text size)"}
        ntuib_Button   {"Image","TBImages:save","","this is a button with in in-line image (image at text size)",#TUIF_DISABLED}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}

        ntuib_Label    {"Image Button",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}



        ntuib_ImageButton   {"","SAVE","","this is an image button (image at native size)"}
        ntuib_ImageButton   {"","SAVE","","this is an image button (image at native size)",#TUIF_DISABLED}
        ntuib_ImageButton   {"","TBImages:save","","this is an image button (image at native size)"}
        ntuib_ImageButton   {"","TBImages:save","","this is an image button (image at native size)",#TUIF_DISABLED}


        *btn = ntuib_ImageButton   {"","SAVE","","this is an image button with text"}
        ntui_SetAttr{*btn,#TUIA_BGIMAGE,&buttonskin}
        *btn = ntuib_ImageButton   {"","SAVE","","this is an image button with text",#TUIF_DISABLED}
        ntui_SetAttr{*btn,#TUIA_BGIMAGE,&buttonskin}

        *btn = ntuib_ImageButton   {"","TBImages:save","","this is an image button with text"}
        ntui_SetAttr{*btn,#TUIA_BGIMAGE,&buttonskin}
        *btn = ntuib_ImageButton   {"","TBImages:save","","this is an image button with text",#TUIF_DISABLED}
        ntui_SetAttr{*btn,#TUIA_BGIMAGE,&buttonskin}


        ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}

        ntuib_Label    {"Image Button +Text",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}

        ntuib_ImageButton   {"Image","SAVE","","this is an image button with text"}
        ntuib_ImageButton   {"Image","SAVE","","this is an image button with text",#TUIF_DISABLED}
        ntuib_ImageButton   {"Image","TBImages:save","","this is an image button with text"}
        ntuib_ImageButton   {"Image","TBImages:save","","this is an image button with text",#TUIF_DISABLED}
        ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}

        ntuib_Label    {"Tool Button",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
        ntuib_ToolButton  {"","SAVE",-1,"","this is a toolbar style button"}
        ntuib_ToolButton  {"","SAVE",-1 ,"","this is a toolbar style button",#TUIF_DISABLED}
        ntuib_ToolButton  {"","TBImages:save",-1 ,"","this is a toolbar style button"}
        ntuib_ToolButton  {"","TBImages:save",-1 ,"","this is a toolbar style button",#TUIF_DISABLED}
        ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}

        ntuib_Label    {"Tool Button + Text",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
        ntuib_ToolButton  {"Image","SAVE",-1 ,"","this is a toolbar button with text"}
        ntuib_ToolButton  {"Image","SAVE",-1 ,"","this is a toolbar button with text",#TUIF_DISABLED}
        ntuib_ToolButton  {"Image","TBImages:save",-1 ,"","this is a toolbar button with text"}
        ntuib_ToolButton  {"Image","TBImages:save",-1 ,"","this is a toolbar button with text",#TUIF_DISABLED}
        ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT,False}

        ntuib_Space{0,0} : ntuib_Space{0,0}
      ntui_EndGroup{}

    ntui_EndGroup{} ; Button
    CEND

    CNIF @#TUI_HAS_SCROLLER
    ntuib_BeginVGroup{0,"Scoller"}
      ;ntuib_BeginHGroup{10}
      ;  ntuib_BeginVGroup{0}
          ntuib_BeginHGroup{2,"","",#TUIF_FIXSIZE}
            ntuib_Label    {"Horizontal Scroller",#TUIF_RIGHT}
            ntuib_HScroller{0,100,20,"","",-1,"sc1"}
            ntuib_Label    {"HScroller + Arrows",#TUIF_RIGHT}
            ntuib_HScroller{0,10,9,"","",-1,"sc2"} : ntuib_AddArrows{}
  ;          ntui_BindByID{*engine,"sc1","sc2"}
            ntuib_Label    {"Disabled HScroller",#TUIF_RIGHT}
            ntuib_HScroller{0,100,20,"","",#TUIF_DISABLED } : ntuib_AddArrows{}
          ;ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXSIZE}

        CNIF @#TUI_HAS_SLIDER
          ;ntuib_BeginHGroup{2}
          ntuib_Label    {"Horizontal Slider",#TUIF_RIGHT}
          ntuib_HSlider{0,0,100,""}
          ntuib_Label    {"HSlider + Label",#TUIF_RIGHT}
          ntuib_HSlider{0,0,100,"%d units"}
          ntuib_Label    {"Disabled HSlider",#TUIF_RIGHT}
          ntuib_HSlider{0,0,100,"%d units","","",#TUIF_DISABLED }

          ntuib_Label    {"HSlider + Label",#TUIF_RIGHT}
          ntuib_HSlider{0,0,100,"%d units","","",#TUIF_UNDERLINED}
          ntuib_Label    {"HSlider + Label",#TUIF_RIGHT}
          ntuib_HSlider{0,0,100,"%d units","","",#TUIF_UNDERLINED} : ntuib_SetBorder{#TUIBORDER_RECESSED}
          ntuib_Label    {"Disabled HSlider + Label",#TUIF_RIGHT}
          ntuib_HSlider{0,0,100,"%d units","","",#TUIF_DISABLED|#TUIF_UNDERLINED }

          ntuib_Label    {"HSlider + Border",#TUIF_RIGHT}
          ntuib_HSlider{0,0,100,"%d units"}  : ntuib_SetBorder{#TUIBORDER_RECESSED}
          ntuib_Label    {"Disabled HSlider + Border",#TUIF_RIGHT}
          ntuib_HSlider{0,0,100,"%d units","","",#TUIF_DISABLED}  : ntuib_SetBorder{#TUIBORDER_RECESSED}
          ntuib_Space{0,0,#TUIF_FIXWIDTH } : ntuib_Space{0,0}
          ;ntui_EndGroup{}  : ntuib_SetFlags{#TUIF_FIXSIZE}
        CEND
        ;ntui_EndGroup{}
      ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXHEIGHT}

      ntuib_BeginHGroup{0}
        ntuib_Label    {"Vertical Versions",#TUIF_RIGHT}
        ntuib_VScroller{0,100,20}
        ntuib_VScroller{0,100,90,"","this is a vertical scroller with arrows"} : ntuib_AddArrows{}
        ntuib_VScroller{0,100,20,"","",#TUIF_DISABLED} : ntuib_AddArrows{}
        CNIF @#TUI_HAS_SLIDER
        ntuib_VSlider{0,0,100,""}
        ntuib_VSlider{0,0,100,"%d"}
        ntuib_VSlider{0,0,100,"%d","","",#TUIF_DISABLED }

        ntuib_VSlider{0,0,100,"%d","","",#TUIF_UNDERLINED}
        ntuib_VSlider{0,0,100,"%d","","",#TUIF_DISABLED|#TUIF_UNDERLINED }
        ntuib_VSlider{0,0,100,"%d","","",#TUIF_UNDERLINED}                : ntuib_SetBorder{#TUIBORDER_RECESSED}
        ntuib_VSlider{0,0,100,"%d"}  : ntuib_SetBorder{#TUIBORDER_RECESSED}
        ntuib_VSlider{0,0,100,"%d","","",#TUIF_DISABLED}  : ntuib_SetBorder{#TUIBORDER_RECESSED}
        CEND
        ntuib_Space{0,0}
      ntui_EndGroup{}  : ntuib_ClearFlags{#TUIF_FIXSIZE}
    ntui_EndGroup{} ; scroller
    CEND

    CNIF @#TUI_HAS_TABVIEW
    ntuib_BeginHGroup{2*2,"TabView"}
      ntuib_Label    {"Top Tabs",#TUIF_RIGHT}
      ntuib_BeginTabView{-1,#TUITABSTYLE_TOP}
        *obj.tuiObject = ntuib_BeginVGroup{0,"First Page","TBImages:save"}
          ntuib_Label    {"Content of page #1",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Second Page","TBImages:favourites"}
          ntuib_Label    {"Content of page #2",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Third Page","ARROWLEFT",#TUIF_DISABLED}
          ntuib_Label    {"Content of page #3",#TUIF_CENTER}
        ntui_EndGroup{}
      ntui_EndTabView{}

      ntuib_Label    {"Bottom Tabs",#TUIF_RIGHT}
      ntuib_BeginTabView{0,#TUITABSTYLE_BOTTOM,"",#TUIF_SMALL}
        *obj.tuiObject =  ntuib_BeginVGroup{0,"First Page","TBImages:save"}
          ntuib_Label    {"Content of page #1",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Second Page","TBImages:favourites"}
          ntuib_Label    {"Content of page #2",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Third Page","FONT",#TUIF_DISABLED}
          ntuib_Label    {"Content of page #3",#TUIF_CENTER}
        ntui_EndGroup{}
      ntui_EndTabView{}

      ntuib_Label    {"Left Tabs",#TUIF_RIGHT}
      ntuib_BeginTabView{0,#TUITABSTYLE_LEFT}
         *obj.tuiObject =  ntuib_BeginVGroup{0,"First Page","TBImages:save"}
          ntuib_Label    {"Content of page #1",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Second Page","TBImages:favourites"}
          ntuib_Label    {"Content of page #2",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Third Page","FILE"}
          ntuib_Label    {"Content of page #3",#TUIF_CENTER}
        ntui_EndGroup{}
      ntui_EndTabView{}

      ntuib_Label    {"Right Tabs",#TUIF_RIGHT}
      ntuib_BeginTabView{0,#TUITABSTYLE_RIGHT}
        *obj.tuiObject =  ntuib_BeginVGroup{0,"First Page","TBImages:save"}
          ntuib_Label    {"Content of page #1",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Second Page","TBImages:favourites"}
          ntuib_Label    {"Content of page #2",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Third Page","SAVE"}
          ntuib_Label    {"Content of page #3",#TUIF_CENTER}
        ntui_EndGroup{}
      ntui_EndTabView{}


      ntuib_Label    {"Empty TabView",#TUIF_RIGHT}
      ntuib_BeginTabView{0,#TUITABSTYLE_TOP}
      ntui_EndTabView{}

      ntuib_BeginVGroup{0}
      ntuib_Label    {"External Tab",#TUIF_RIGHT}
      CNIF @#TUI_HAS_CYCLE
      ntuib_Cycle    {"first|second|third|none",0,"",#TUIF_FIXSIZE,"excr"}
      CEND
      ntuib_Space{0,0,#TUIF_FIXWIDTH}
      ntui_EndGroup{}  : ntuib_SetFlags{#TUIF_FIXSIZE}
      ntuib_BeginTabView{0,#TUITABSTYLE_NONE,"",-1,"expa"}
        *obj.tuiObject =  ntuib_BeginVGroup{0,"First Page"}
          ntuib_Label    {"Content of page #1",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Second Page"}
          ntuib_Label    {"Content of page #2",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Third Page"}
          ntuib_Label    {"Content of page #3",#TUIF_CENTER}
        ntui_EndGroup{}
      ntui_EndTabView{}
      ntui_BindByID{*engine,"excr","expa"}
      ntuib_Space{0,0,#TUIF_FIXSIZE}
      ntuib_Space{0,0,#TUIF_FIXSIZE}
    ntui_EndGroup{} ; Page
    CEND


    ntuib_BeginHGroup{2,"Misc."}
      CNIF @#TUI_HAS_SEPERATOR
      ntuib_Label    {"Horizontal Seperator",#TUIF_RIGHT}
      ntuib_HSeperator{""}

      ntuib_Label {"Label Seperator",#TUIF_RIGHT}
      ntuib_HSeperator{"Seperator"}

      ntuib_Label    {"Vertical Seperator",#TUIF_RIGHT}
      ntuib_VSeperator{""}  : ntuib_SetFlags{#TUIF_FIXSIZE}
      CEND

      CNIF @#TUI_HAS_PROGRESSBAR
      ntuib_Label    {"ProgressBar",#TUIF_RIGHT}
      ntuib_BeginHGroup{0}
      ntuib_ProgressBar{"%d of %t done (%p %)...",20,100}  : ntuib_SetID{"SBAR"}
      ntuib_ProgressBar{"%d of %t done (%p %)...",20,100,"",#TUIF_DISABLED}
      ntui_EndGroup{} : ntuib_SetFlags{#TUIF_FIXSIZE}
      CEND

      CNIF @#TUI_HAS_SPACE
      ntuib_Label    {"Space (30x30px)",#TUIF_RIGHT}
      ntuib_Space    {30,30,#TUIF_FIXSIZE}
      CEND

      CNIF @#TUI_HAS_BALANCER
      ntuib_Label    {"H/V Balancer",#TUIF_RIGHT}
      ntuib_BeginVGroup{-1}
        ntuib_BeginHGroup{-1}
         ntuib_ImageView{"UNKNOWN"} : ntuib_ClearFlags{#TUIF_FIXSIZE}
         ntuib_VBalancer{}
         ntuib_ImageView{"UNKNOWN"} : ntuib_ClearFlags{#TUIF_FIXSIZE}
        ntui_EndGroup{}  : ntuib_ClearFlags{#TUIF_FIXSIZE}
        ntuib_HBalancer{}
        ntuib_BeginHGroup{-1}
          ntuib_ImageView{"UNKNOWN"} : ntuib_ClearFlags{#TUIF_FIXSIZE}
          ntuib_VBalancer{}
          ntuib_ImageView{"UNKNOWN"} : ntuib_ClearFlags{#TUIF_FIXSIZE}
        ntui_EndGroup{}  : ntuib_ClearFlags{#TUIF_FIXSIZE}
      ntui_EndGroup{}  : ntuib_ClearFlags{#TUIF_FIXSIZE}
      CEND



      CNIF @#TUI_HAS_CUSTOMVIEW
      ntuib_Label    {"CustomView",#TUIF_RIGHT}
      ntuib_BeginHGroup{0}

        ntuib_BeginVGroup{0}
          ntuib_BeginHGroup{0}
            *cs.tuiCustomView = ntuib_CustomView {50,50,"this is a custom view",-1,"CView1"}
            ;a.s = "CVMOVE"    : ntui_SetAttr{*cs,#TUICVA_ONMOUSEMOVE,&a}
            ;a.s = "CVTOUCH"   : ntui_SetAttr{*cs,#TUIA_ONTOUCH,&a}
            ;a.s = "CVRELEASE" : ntui_SetAttr{*cs,#TUIA_ONRELEASE,&a}
            ;a.s = "CVSCROLL"  : ntui_SetAttr{*cs,#TUICVA_ONSCROLL,&a}
            ntui_SetAttr{*cs,#TUICVA_HTOTAL,512}
            ntui_SetAttr{*cs,#TUICVA_VTOTAL,512}

            ntui_SetAttr{*cs,#TUIA_MD_DISPATCHEVENT,*myDispatchEvent}

            *scroller.tuiScroller = ntuib_VScroller{0,100,20,"","",-1,"CVScroller"} : ntuib_AddArrows{}
          ntui_EndGroup{}

          ntuib_BeginHGroup{0}
            *scroller = ntuib_HScroller{0,100,20,"","",-1,"CHScroller"} : ntuib_AddArrows{}
             ntuib_ImageView{"TBImages:list_zoom_100"}
          ntui_EndGroup{}

          ntuib_SetFlags{#TUIF_FIXSIZE}
          ntuib_Label {"CustomView with bound Scrollers",#TUIF_CENTER}
        ntui_EndGroup{}

        ntuib_VBalancer{}

        ntuib_BeginVGroup{0}
          ntuib_BeginScrollView{50,50,"",-1,"SCRVIEW"}
            *cs.tuiCustomView = ntuib_CustomView {512,512,"this is a custom view",-1,"CView2"}
            ;a.s = "CVMOVE"    : ntui_SetAttr{*cs,#TUICVA_ONMOUSEMOVE,&a}
            ;a.s = "CVTOUCH"   : ntui_SetAttr{*cs,#TUIA_ONTOUCH,&a}
            ;a.s = "CVRELEASE" : ntui_SetAttr{*cs,#TUIA_ONRELEASE,&a}
            ntui_SetAttr{*cs,#TUIA_BORDERTYPE,#TUIBORDER_NONE}
            ntui_SetAttr{*cs,#TUIA_PADDING,0}
            ntui_SetAttr{*cs,#TUIA_MARGIN,0}
          ntui_EndScrollView{}
          ntuib_Label {"CustomView in ScrollView",#TUIF_CENTER}
        ntui_EndGroup{}

      ntui_EndGroup{}
      CEND
    ntui_EndGroup{} ; misc

    CNIF @#TUI_HAS_IMAGEVIEW
    ntuib_BeginHGroup{2,"Image"}
      ntuib_BeginHGroup{0}
      ntuib_BeginHGroup{2}

      ntuib_Label    {"Name",#TUIF_LEFT|#TUIF_BOLD}
      ntuib_Label    {"Nrm/Sel/Dis",#TUIF_LEFT|#TUIF_BOLD }

      name.s="" : ntuib_Label{"Unknown",#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="SAVE" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="FILE" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="PATH" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="SCREEN" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="FONT" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="CYCLE" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="INC" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="DEC" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="AMIGA" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="SHIFT" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="CTRL" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="ALT" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      ntuib_Space{0,0,#TUIF_FIXWIDTH } : ntuib_Space{0,0,#TUIF_FIXWIDTH }
      ntui_EndGroup{}

      ntuib_VBalancer{}

      ntuib_BeginHGroup{2}
      ntuib_Label    {"Name",#TUIF_LEFT|#TUIF_BOLD}
      ntuib_Label    {"Nrm/Sel/Dis",#TUIF_LEFT|#TUIF_BOLD }

      name.s="ARROWLEFT" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="ARROWRIGHT" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="ARROWUP" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="ARROWDOWN" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="OLARROWLEFT" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="OLARROWRIGHT" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="OLARROWUP" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="OLARROWDOWN" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="LEFT" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="RIGHT" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="POPUP" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="DROPDOWN" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      ntuib_Space{0,0,#TUIF_FIXWIDTH} : ntuib_Space{0,0,#TUIF_FIXWIDTH }
      ntui_EndGroup{}

      ntuib_VBalancer{}

      ntuib_BeginHGroup{2}
      ntuib_Label    {"Name",#TUIF_LEFT|#TUIF_BOLD}
      ntuib_Label    {"Nrm/Sel/Dis",#TUIF_LEFT|#TUIF_BOLD }

      name.s="TBImages:save" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="Sys:disk.info" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name,#TUISIZE_BUTTON  }
      ntuib_ImageView{name,#TUISIZE_BUTTON  ,"",#TUIF_ACTIVE}
      ntuib_ImageView{name,#TUISIZE_BUTTON  ,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="CHECKMARK" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="UNCHECKMARK" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="CHECKON" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="CHECKOFF" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="RADIOON" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      name.s="RADIOOFF" : ntuib_Label{name,#TUIF_LEFT}
      ntuib_BeginHGroup{0} : ntuib_ImageView{name} : ntuib_ImageView{name,-1,"",#TUIF_ACTIVE} : ntuib_ImageView{name,-1,"",#TUIF_DISABLED} : ntui_EndGroup{}

      ntuib_Space{0,0,#TUIF_FIXWIDTH} : ntuib_Space{0,0,#TUIF_FIXWIDTH }

    ntui_EndGroup{}

    ntui_EndGroup{}
    ntuib_Space{0,0}
    ntui_EndGroup{} ; image
    CEND

    ntuib_BeginHGroup{2,"Group"}
      ntuib_BeginHGroup{2}
        ntuib_BeginHGroup{-1,"Title Text","TBImages:favourites"} : ntuib_Label{"Titled Group"} : ntui_EndGroup{}                       : ntuib_ClearFlags{#TUIF_FIXSIZE}
        ntuib_BeginVGroup{-1,"Title Text","TBImages:favourites",#TUIF_DISABLED} : ntuib_Label{"Disabled Group"} : ntui_EndGroup{}      : ntuib_ClearFlags{#TUIF_FIXSIZE}
        ntuib_BeginHGroup{-1,"x"} : ntuib_SetBorder{#TUIBORDER_GROUP}    : ntuib_Label{"Group with Group Border"} : ntui_EndGroup{}     : ntuib_ClearFlags{#TUIF_FIXSIZE}
        ntuib_BeginHGroup{-1,"x"} : ntuib_SetBorder{#TUIBORDER_RAISED}   : ntuib_Label{"Group with Raised Border"} : ntui_EndGroup{}    : ntuib_ClearFlags{#TUIF_FIXSIZE}
        ntuib_BeginHGroup{-1,"x"} : ntuib_SetBorder{#TUIBORDER_RECESSED} : ntuib_Label{"Group with Recessed Border"} : ntui_EndGroup{}  : ntuib_ClearFlags{#TUIF_FIXSIZE}
       ; ntuib_BeginHGroup{-1,"x"} : ntuib_SetBorder{#TUIBORDER_FLAT}     : ntuib_Label{"Group with Flat Border"} : ntui_EndGroup{}

          CNIF @#TUI_HAS_SCROLLVIEW
          ntuib_BeginScrollView{50,50}
            ntuib_BeginVGroup{0}
              ntuib_BeginHGroup{0} : ntuib_SetFlags{#TUIF_SAMESIZE}
                ntuib_ToolButton  {"Open","TBImages:open",-1 ,"","this is a toolbar button with text"}
                ntuib_ToolButton  {"Save","TBImages:save",-1 ,"","this is a toolbar button with text"}
                ntuib_ToolButton  {"SaveAll","TBImages:saveall",-1 ,"","this is a toolbar button with text"}
                ntuib_ToolButton  {"Mail","TBImages:mail",-1 ,"","this is a toolbar button with text"}
                ntuib_ToolButton  {"Help","TBImages:help",-1 ,"","this is a toolbar button with text"}
                ntuib_VSeperator{""}
                ntuib_ToolButton  {"Cut","TBImages:cut",-1 ,"","this is a toolbar button with text"}
                ntuib_ToolButton  {"Copy","TBImages:copy",-1 ,"","this is a toolbar button with text"}
                ntuib_ToolButton  {"Paste","TBImages:paste",-1 ,"","this is a toolbar button with text"}
                ntuib_ToolButton  {"Edit","TBImages:edit",-1 ,"","this is a toolbar button with text"}
                ntuib_ToolButton  {"Delete","TBImages:delete",-1 ,"","this is a toolbar button with text"}
                ntuib_VSeperator{""}
                ntuib_ToolButton  {"Undo","TBImages:undo",-1 ,"","this is a toolbar button with text"}
              ntui_EndGroup{}

      ntuib_BeginTabView{-1,#TUITABSTYLE_TOP}
        *obj.tuiObject = ntuib_BeginVGroup{0,"First Page","TBImages:save"}
          ntuib_Label    {"Content of page #1",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Second Page","TBImages:favourites"}
          ntuib_Label    {"Content of page #2",#TUIF_CENTER}
        ntui_EndGroup{}
        ntuib_BeginVGroup{0,"Third Page","ARROWLEFT",#TUIF_DISABLED}
          ntuib_Label    {"Content of page #3",#TUIF_CENTER}
        ntui_EndGroup{}
      ntui_EndTabView{}


              ntuib_RadioButton  {"Option 1",0,"","this is a radio button with text",-1,"op21"}
              ntuib_RadioButton  {"Option 2",1,"","this is a radio button with text",-1,"op22"}
              ntuib_RadioButton  {"Option 3",0,"","this is a radio button with text",-1,"op23"}
              ntui_BindByID{*engine,"op21","op22"}
              ntui_BindByID{*engine,"op22","op23"}
              ntuib_HSlider{0,0,100}
              ntuib_HScroller{0,100,10}
              ntuib_CheckButton{"Check 1",False}
              ntuib_CheckButton{"Check 2",False}
              ntuib_CheckButton{"Check 3",False}
              ntuib_CheckButton{"Check 4",False}
              ntuib_CheckButton{"Check 5",False}
              ntuib_CheckButton{"Check 6",False}
            ntui_EndGroup{}
          ntui_EndScrollView{} :ntuib_ClearFlags{#TUIF_FIXSIZE}
          CEND


      ntui_EndGroup{}
    ntui_EndGroup{} ; Group

   CNIF @#TUI_HAS_TEXTBOX
   ntuib_BeginVGroup{0,"Text"}
     ntuib_BeginHGroup{2,"","",#TUIF_FIXHEIGHT}
     ntuib_Label    {"String",#TUIF_RIGHT}
     ntuib_BeginHGroup{-1}
       *s2.tuiObject = ntuib_String   {"String",20,"",-1,"mystring"}
       ntuib_String   {"Disabled",20,"",#TUIF_DISABLED}
       *fb.tuiObject = ntuib_Button{"","FILE","",""}
       a.s = "TEST"
       ntui_SetAttr{*fb,#TUIBA_ONRELEASE,&a.s}
       *lb.tuiObject = ntuib_Label{"test"}
     ntui_EndGroup{}
     ntui_Bind{*s2,*fb}
     ntui_Bind{*s2,*lb}
     key.s="KEY"
     ;ntui_SetAttrByID{*engine,"mystring",#TUIA_ONLOSEFOCUS,&key}

     ntuib_Label    {"EditLabel",#TUIF_RIGHT}
     ntuib_BeginHGroup{-1} :ntuib_EditLabel  {"Edit me!",20,#TUIPEN_TRANSPARENT}:ntuib_EditLabel  {"Edit me!",20,#TUIPEN_TRANSPARENT,"",#TUIF_DISABLED}: ntui_EndGroup{}

     ntuib_Label    {"NumString",#TUIF_RIGHT}
     ntuib_BeginHGroup{-1} : ntuib_NumString   {1234,0,10000}:  ntuib_NumString   {1234,0,10000,"",#TUIF_DISABLED} : ntui_EndGroup{}

     ntuib_Label    {"NumEditLabel",#TUIF_RIGHT}
     ntuib_BeginHGroup{-1} : ntuib_NumEditLabel   {1234,0,10000,#TUIPEN_SHINE} : ntuib_NumEditLabel   {1234,0,10000,#TUIPEN_SHINE,"",#TUIF_DISABLED} : ntui_EndGroup{}

;     ntuib_Label    {"TextBox",#TUIF_RIGHT}
;     *obj.tuiObject = ntuib_TextBox   {"The quick bown fox jumps\\nover the lazy dog.\\nThis is a test of the\\ntuiTextBox widget.\\nLet's see how many lines we can have.\\n########\\nbla\\nbla\\nThis is the last line.\\n",100,"",#TUIF_BOLD}
;     ntuib_ClearFlags{#TUIF_FIXSIZE}
     ntui_EndGroup{}
     ntuib_BeginHGroup{2}
     ntuib_Label    {"TextBox with Tab",#TUIF_RIGHT}

     *obj = ntuib_BeginHGroup{0}
     *obj = ntuib_BeginTabView{0}
     ntui_SetAttr{*obj,#TUIA_PADDING,0}

     *obj = ntuib_BeginHGroup{2,"document.txt","FILE"}
     ntui_SetAttr{*obj,#TUIA_MARGIN,0}
     ntui_SetAttr{*obj,#TUIA_PADDING,0}
     *obj = ntuib_TextBox   {"The quick bown fox jumps\\nover the lazy dog.\\nThis is a test of the\\ntuiTextBox widget.\\nLet's see how many lines we can have.\\n########\\nbla\\nbla\\nThis is the last line.\\n",100,"",-1,"TB1"}
     ntui_SetAttr{*obj,#TUIA_BORDERTYPE,#TUIBORDER_NONE}
     ntui_SetAttr{*obj,#TUIA_MARGIN,0}
     ntui_EndGroup{}

     *obj = ntuib_BeginHGroup{2,"alice.txt","FILE"}
     ntui_SetAttr{*obj,#TUIA_MARGIN,0}
     ntui_SetAttr{*obj,#TUIA_PADDING,0}
     *obj = ntuib_TextBox   {Peek.s(?alice),100,"",-1,"TB2"}
     ntui_SetAttr{*obj,#TUIA_BORDERTYPE,#TUIBORDER_NONE}
     ntui_SetAttr{*obj,#TUIA_MARGIN,0}
     ntui_EndGroup{}

     ntui_EndTabView{}
     CNIF @#TUI_HAS_BALANCER
     ntuib_VBalancer{}
     CEND
     CNIF @#TUI_HAS_SCROLLVIEW
     ntuib_BeginScrollView{50,50}
     CEND
       *obj = ntuib_BeginVGroup{0}
       CNIF @#TUI_HAS_SEPERATOR
       ntuib_HSeperator{"Font"}
       CEND
       ntuib_RadioButton{"Normal",True,"TBPREFS","set the textbox font to normal"    ,#TUI_NOFLAGS,"font_normal"}
       ntuib_RadioButton{"Small",    0,"TBPREFS","set the textbox font to small"     ,#TUI_NOFLAGS,"font_small"}
       ntuib_RadioButton{"Fix",      0,"TBPREFS","set the textbox font to fixed-font",#TUI_NOFLAGS,"font_fix"}
       ntuib_RadioButton{"Serif",    0,"TBPREFS","set the textbox font to serif font",#TUI_NOFLAGS,"font_serif"}
       ntui_BindByID{*engine,"font_normal","font_small"}
       ntui_BindByID{*engine,"font_normal","font_fix"}
       ntui_BindByID{*engine,"font_normal","font_serif"}
       CNIF @#TUI_HAS_SEPERATOR
       ntuib_HSeperator{"Style"}
       CEND
       ntuib_CheckButton{"Bold",0,"TBPREFS","set textbox font to bold",#TUI_NOFLAGS,"font_bold"}
       ntuib_CheckButton{"Italic",0,"TBPREFS","set textbox font to itallic",#TUI_NOFLAGS,"font_italic"}
       CNIF @#TUI_HAS_SEPERATOR
       ntuib_HSeperator{"Editor"}
       CEND
       ntuib_CheckButton{"Line Cursor",0,"TBPREFS","use line cursor (block cursor else)",#TUI_NOFLAGS,"tb_linecursor"}
       ntuib_CheckButton{"Blink",0,"TBPREFS","let the textbox cursor blink",#TUI_NOFLAGS,"tb_blink"}
       ntuib_CheckButton{"Show New Line",0,"TBPREFS","show a new line symbol",#TUI_NOFLAGS,"tb_showcr"}
       ntuib_CheckButton{"Read Only",0,"TBPREFS","make the textbox read only",#TUI_NOFLAGS,"tb_readonly"}
       CNIF @#TUI_HAS_SEPERATOR
       ntuib_HSeperator{"Scrollers"}
       CEND
       CNIF @#TUI_HAS_CYCLE
       ntuib_Cycle{"Vertical Automatic|Vertical Always|Vertical Never",0}
       ntuib_Cycle{"Horizontal Automatic|Horizontal Always|Horizontal Never",0}
       CEND

       ntui_EndGroup{}
     CNIF @#TUI_HAS_SCROLLVIEW
     ntui_EndScrollView{}
     CEND
     ntui_EndGroup{}
     ntui_EndGroup{}
   ntui_EndGroup{} ; Text
   CEND
   CNIF @#TUI_HAS_TREEVIEW
    ntuib_BeginHGroup{2,"TreeView"}
      ntuib_Label    {"Path TreeView",#TUIF_RIGHT}
      ntuib_BeginHGroup{0}
      ntuib_DirView{100,100,"#?"}
      ntuib_VBalancer{}
      ntuib_DirView{100,100,"#?"}
      ntui_EndGroup{}
    ntui_EndGroup{}
    CEND

   CNIF @#TUI_HAS_LISTVIEW
    ntuib_BeginVGroup{0,"ListView"}
      ntuib_BeginHGroup{2}
      ntuib_Label    {"Simple/Titled ListView",#TUIF_RIGHT}
      ntuib_BeginHGroup{0}

        *listView.tuiListView=ntuib_ListView {"",False,"","This is a listview",#TUIF_LEFT}
        ntui_AddListItem{*listView,-1,"Wanderer",0,1234,0}
        ntui_AddListItem{*listView,-1,"Honitos",0,1234,0}
        ntui_AddListItem{*listView,-1,"TomSmart1",0,1234,0}
        ntui_AddListItem{*listView,-1,"Wawa",0,1234,0}
        ntui_AddListItem{*listView,-1,"BruZard",0,1234,0}
        ntui_AddListItem{*listView,-1,"Blackbird",0,1234,0}
        ntui_AddListItem{*listView,-1,"Murmel",0,1234,0}
        ntui_AddListItem{*listView,-1,"HelmutH",0,1234,0}
        ntui_AddListItem{*listView,-1,"Bernd_",0,1234,0}
        ntui_AddListItem{*listView,-1,"Modfr",0,1234,0}
        ntui_AddListItem{*listView,-1,"DieterG",0,1234,0}
        ntui_AddListItem{*listView,-1,"DaxB",0,1234,0}
        ntui_AddListItem{*listView,-1,"Deadalus",0,1234,0}
        ntui_AddListItem{*listView,-1,"CJ-Stroker",0,1234,0}

        pipe.s="Pipe:listview"
        ;ntui_SetListViewFileListener{*listView,&pipe}
        CNIF @#TUI_HAS_BALANCER
        ntuib_VBalancer{}
        CEND
        *listView.tuiListView=ntuib_ListView {"\pTBImages:favourites\tAmiforce",False,"","This is a listview",#TUIF_LEFT}
        ntui_AddListItem{*listView,-1,"Wanderer",0,1234,0}
        ntui_AddListItem{*listView,-1,"Honitos",0,1234,0}
        ntui_AddListItem{*listView,-1,"TomSmart1",0,1234,0}
        ntui_AddListItem{*listView,-1,"Wawa",0,1234,0}
        ntui_AddListItem{*listView,-1,"BruZard",0,1234,0}
        ntui_AddListItem{*listView,-1,"Blackbird",0,1234,0}
        ntui_AddListItem{*listView,-1,"Murmel",0,1234,0}
        ntui_AddListItem{*listView,-1,"HelmutH",0,1234,0}
        ntui_AddListItem{*listView,-1,"Bernd_",0,1234,0}
        ntui_AddListItem{*listView,-1,"Modfr",0,1234,0}
        ntui_AddListItem{*listView,-1,"DieterG",0,1234,0}
        ntui_AddListItem{*listView,-1,"DaxB",0,1234,0}
        ntui_AddListItem{*listView,-1,"Deadalus",0,1234,0}
        ntui_AddListItem{*listView,-1,"CJ-Stroker",0,1234,0}
      ntui_EndGroup{}
      ntui_EndGroup{}
      CNIF @#TUI_HAS_BALANCEr
      ntuib_HBalancer{}
      CEND

      ntuib_BeginHGroup{3}
      ntuib_Label    {"Multi-Column ListView",#TUIF_RIGHT}
      CNIF @#TUI_HAS_BALANCER
      ntuib_VBalancer{}
      CEND
      *listView.tuiListView=ntuib_ListView {"\pTBImages:question\~|\lAddress\pTBImages:link|\lSubject\pTBImages:help|\f\lDate\pTBImages:date",True}
      ntui_AddListItem{*listView,-1,"\pTBImages:list_mailunread|koehlerthilo@gmx.de|Test Email|11/12/2008",0,1234,#TUIF_BOLD}
      ntui_AddListItem{*listView,-1,"\pTBImages:list_mailunread|\pTBImages:list_list\tkoehlerthilo@gmx.de|Another Test|13/12/2008",0,1234,#TUIF_BOLD }
      ntui_AddListItem{*listView,-1,"\pTBImages:list_mailunread|support@hd-rec.de|RE: Another Test|14/12/2008",0,1234,#TUIF_BOLD }
      ntui_AddListItem{*listView,-1,"\pTBImages:list_mailold|rumpel-stielzchen@web.de|Test Email|11/12/2008",0,1234,0}
      ntui_AddListItem{*listView,-1,"\pTBImages:list_mailspam|spamname@gmx.de|Another Test|13/12/2008",0,1234,0}
      ntui_AddListItem{*listView,-1,"\pTBImages:list_mailspam|koehlerthilo@gmx.de|RE: Another Test|14/12/2008",0,1234,0}
      ntui_AddListItem{*listView,-1,"\pTBImages:list_mailold|koehlerthilo@gmx.de|\dTest Email|11/12/2008",0,1234,0}
      ntui_AddListItem{*listView,-1,"\pTBImages:list_mailold|koehlerthilo@gmx.de|Another Test|13/12/2008",0,1234,#TUIF_DISABLED}
      ntui_AddListItem{*listView,-1,"\pTBImages:list_mailold|koehlerthilo@gmx.de|RE: Another Test|14/12/2008",0,1234,0}
      a.s = "listview_ontouch"
      ntui_SetAttr{*listView,#TUILVA_ONTOUCH,&a}
      a.s = "listview_onselect"
      ntui_SetAttr{*listView,#TUILVA_ONSELECT,&a}
      ntui_EndGroup{}
    ntui_EndGroup{} ; listview
  CEND

  CNIF @#TUI_HAS_MENUITEM
    ntuib_BeginVGroup{0,"Menu"}
      ntuib_BeginHGroup{0,"","",#TUIF_FIXHEIGHT}
      ntuib_BeginHGroup{2,"","",#TUIF_FIXSIZE}
        ntuib_Label    {"MenuBar",#TUIF_RIGHT}
        ntui_BeginMenuBar{Null}
          ntuib_BeginMenuTitle{"MenuTitle 1","TBImages:info"}
            ntuib_MenuItem{"MenuItem 1","","SHIFT+a"}
            ntuib_MenuItem{"MenuItem 2","","SHIFT+b"}
            ntuib_MenuItem{"MenuItem 3","","CTRL+c","MenuHit3","This is a menu entry"}
            ntuib_Label{"test"}
            ntuib_MenuItem{"MenuItem 4","","ALT+d"}
            ntuib_MenuItem{"MenuItem 5","","F1",""}
            ntuib_BeginSubMenu{"SubMenu","TBImages:junk"}
              ntuib_Button{"test","SAVE"}
              ntuib_MenuItem{"SubMenuItem 2","",""}
              ntuib_MenuItem{"SubMenuItem 3","",""}
              ntuib_MenuItem{"SubMenuItem 4","",""}

              ntuib_BeginSubMenu{"SubMenu #2","TBImages:mail","",-1,"stop"}
                ;ntuib_Button{"file","FILE"}
                ntuib_MenuItem{"SubMenuItem 2","",""}
                ntuib_MenuItem{"SubMenuItem 3","",""}
                ntuib_MenuItem{"SubMenuItem 4","",""}
                ;ntuib_HSeperator{}
                ntuib_MenuItem{"SubMenuItem 5","","",""}
              ntui_EndMenu{}

              ntuib_BeginSubMenu{"SubMenu #3","TBImages:date","",-1,"stop"}
                ntuib_Button{"file","FILE"}
                ntuib_MenuItem{"SubMenuItem 2","",""}
                ntuib_MenuItem{"SubMenuItem 3","",""}
                ntuib_MenuItem{"SubMenuItem 4","",""}
                ntuib_HSeperator{""}
                ntuib_MenuItem{"SubMenuItem 5","","",""}
              ntui_EndMenu{}

              ntuib_HSeperator{""}
              ntuib_MenuItem{"SubMenuItem 5","","","TEST"}

            ntui_EndMenu{}
            ntuib_HSeperator{""}
            ntuib_MenuItem{"MenuItem 3","","SHIFT+x","","",#TUIF_DISABLED}

              ntuib_BeginSubMenu{"SubMenu #6","TBImages:help","",-1,"stop"}
                ;ntuib_Button{"file","FILE"}
                ntuib_MenuItem{"SubMenuItem 2","",""}
                ntuib_MenuItem{"SubMenuItem 3","",""}
                ntuib_MenuItem{"SubMenuItem 4","",""}
                ;ntuib_HSeperator{""}
                ntuib_MenuItem{"SubMenuItem 5","","",""}
              ntui_EndMenu{}
          ntui_EndMenu{}

          ntuib_BeginMenuTitle{"MenuTitle 2","TBImages:help"}
            ntuib_MenuItem{"MenuItem 1","",""}
            ntuib_MenuItem{"MenuItem 2","",""}
            ntuib_MenuItem{"MenuItem 3","",""}
                ntuib_Cycle{"test 1|test 2",0}
            ntuib_MenuItem{"MenuItem 4","",""}
            ntuib_MenuItem{"MenuItem 5","",""}
            ntuib_BeginSubMenu{"SubMenu","TBImages:open"}
              ;ntuib_HSeperator{""}

              ;ntuib_MenuItem{"SubMenuItem 1","","AMIGA+a","",-1,"stop"}
                      ;    ntuib_Label{"test"}
                                   ntuib_Button{"test","SAVE","TEST"}
              ntuib_MenuItem{"SubMenuItem 2","",""}
              ;ntuib_MenuItem{"SubMenuItem 3","","CTRL+c"}
              ntuib_MenuItem{"SubMenuItem 4","",""}
              ntuib_HSeperator{""}
              ntuib_MenuItem{"SubMenuItem 5","","","TEST"}
            ntui_EndMenu{}
            ntuib_HSeperator{""}
            ntuib_MenuItem{"MenuItem 3","","","","",#TUIF_DISABLED}

              ntuib_BeginSubMenu{"SubMenu #6","TBImages:saveall","",-1,"stop"}
                ;ntuib_Button{"file","FILE"}
                ntuib_MenuItem{"SubMenuItem 2","",""}
                ntuib_MenuItem{"SubMenuItem 3","",""}
                ntuib_MenuItem{"SubMenuItem 4","",""}
                ;ntuib_HSeperator{""}
                ntuib_MenuItem{"SubMenuItem 5","","",""}
              ntui_EndMenu{}


          ntui_EndMenu{}



          ntuib_BeginMenuTitle{"MenuTitle 2","","",#TUIF_DISABLED }
            ntuib_MenuItem{"MenuItem 1"}
            ntuib_BeginSubMenu{"SubMenu"}
              ntuib_MenuItem{"MenuItem"}
            ntui_EndMenu{}
            ntuib_HSeperator{""}
            ntuib_MenuItem{"MenuItem 2"}
          ntui_EndMenu{}
        ntui_EndGroup{}

        ntuib_Label    {"PopUp Menu",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
          ntuib_BeginPopUp{"PopUp"}
            ntuib_MenuItem{"MenuItem 1"}
              ntuib_BeginSubMenu{"SubMenu"}
                ntuib_MenuItem{"MenuItem"}
              ntui_EndMenu{}
              ntuib_HSeperator{""}
              ntuib_MenuItem{"MenuItem 2"}
          ntui_EndMenu{}
          ntuib_BeginPopUp{"PopUp","","",#TUIF_DISABLED}
          ntui_EndMenu{}
        ntui_EndGroup{}

        ntuib_Label    {"Single PopUp Button",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
          ntuib_BeginPopUp{"",""}
            ntuib_MenuItem{"MenuItem 1"}
              ntuib_BeginSubMenu{"SubMenu",""}
                ntuib_MenuItem{"MenuItem"}
              ntui_EndMenu{}
              ntuib_HSeperator{""}
              ntuib_MenuItem{"MenuItem 2"}
          ntui_EndMenu{}
          ntuib_BeginPopUp{"","","",#TUIF_DISABLED}
          ntui_EndMenu{}
          ntuib_Space{0,0,#TUIF_FIXHEIGHT}
        ntui_EndGroup{}

        ntuib_Label    {"DropDown Menu",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
          ntuib_BeginDropDown{"DropDown"}
            ntuib_MenuItem{"MenuItem 1"}
              ntuib_BeginSubMenu{"SubMenu",""}
                ntuib_MenuItem{"MenuItem"}
              ntui_EndMenu{}
              ntuib_HSeperator{""}
              ntuib_MenuItem{"MenuItem 2"}
          ntui_EndMenu{}
          ntuib_BeginDropDown{"DropDown","","",#TUIF_DISABLED}
          ntui_EndMenu{}
        ntui_EndGroup{}

        ntuib_Label    {"DropDown Menu +Images",#TUIF_RIGHT}
        ntuib_BeginHGroup{0}
          ntuib_BeginDropDown{"DropDown","TBImages:save"}
            ntuib_MenuItem{"MenuItem 1","TBImages:save","AMIGA+s"}
              ntuib_BeginSubMenu{"SubMenu",""}
                ntuib_MenuItem{"MenuItem","","AMIGA+x"}
              ntui_EndMenu{}
              ntuib_HSeperator{""}
              ntuib_MenuItem{"MenuItem 2"}
          ntui_EndMenu{}
          ntuib_BeginDropDown{"DropDown","TBImages:save","",#TUIF_DISABLED}
          ntui_EndMenu{}
        ntui_EndGroup{}
       ; ntuib_Space{0,0,#TUIF_FIXHEIGHT} : ntuib_Space{0,0,#TUIF_FIXHEIGHT}
      ntui_EndGroup{} ;: ntuib_ClearFlags{#TUIF_FIXSIZE}

        ntuib_Space{0,0,#TUIF_FIXHEIGHT}
      ntui_EndGroup{} ;: ntuib_ClearFlags{#TUIF_FIXSIZE}
      ntuib_Space{0,0}
    ntui_EndGroup{} ; menu


  CEND


CNIF @#TUI_HAS_TABVIEW
  ntui_EndTabView{}
CEND

  *obj.tuiObject = ntui_EndWindow{}
  ;ntui_SetAttr{*obj,#TUIA_CLEARFLAGS,#TUIF_FIXSIZE}
  ;ntui_SetAttr{*obj,#TUIWA_APPNOTIFY,#NOTIFY_DROP}

End If

;  *r.tuiRequester = ntui_Requester{tagList}
ntui_EndBuild{}
; ntui_SetAttrByID{*engine,"PAGE",#TUIA_BGPEN,#TUIPEN_HALFSHINE}
;ntui_SetAttr{*objWin,#TUIA_BGPEN,#TUIPEN_HALFSHADOW}


ntui_BindByID{*engine,"CView1","CHScroller"}
ntui_BindByID{*engine,"CView1","CVScroller"}

ntui_ShowWindowByID{*engine,"DEMO"}
ntui_ShowWindowByID{*engine,"xmlwin"}
ntui_ShowWindowByID{*engine,"xuiwin"}
ntui_ShowWindowByID{*engine,"mainwin"}
ntui_ShowAppIcon{*engine,"NTUI Template"}
CNIF @#TUI_HAS_LISTVIEW
*listView = (.tuiListView)ntui_GetObjectByID{*engine,"xuilist"}
If *listView
ntui_AddListItem{*listView,-1,"|Text Color|#447799",0,1234,0}
ntui_AddListItem{*listView,-1,"|Cursor Color|#EEEEEE",0,1234,0}
ntui_AddListItem{*listView,-1,"|Tab Color|#444444",0,1234,0}
ntui_AddListItem{*listView,-1,"|Pattern Color|#447755",0,1234,0}
ntui_AddListItem{*listView,-1,"|Backfill Color|#88CC99",0,1234,0}
ntui_AddListItem{*listView,-1,"|Blabla Color|#000000",0,1234,0}
ntui_AddListItem{*listView,-1,"|Bubble Color|#AAAAAA",0,1234,0}
ntui_AddListItem{*listView,-1,"|Input Text Color|#AAAAAA",0,1234,0}
ntui_AddListItem{*listView,-1,"|Output Color|#BBAA9A",0,1234,0}
ntui_AddListItem{*listView,-1,"\pRIGHT|Images|",0,1234,0}
ntui_AddListItem{*listView,-1,"|Use Images|ON",0,1234,0}
ntui_AddListItem{*listView,-1,"|Load Images|Yes",0,1234,0}
ntui_AddListItem{*listView,-1,"|Image Path|Sys:Prefs/Images",0,1234,0}
ntui_AddListItem{*listView,-1,"|Window Images|window.jpg",0,1234,0}
ntui_AddListItem{*listView,-1,"|My Images|Blabla",0,1234,0}
ntui_AddListItem{*listView,-1,"|Blublub|Haha",0,1234,0}
End If
CEND
CNIF @#TUI_HAS_TEXTBOX
*Address.tuiObject = ntui_GetObjectByID {*engine,"mystring"}
;error{"Address Object: "+Hex$(*Address)}
string.s = ntui_GetStringByID{*Address,"mystring"}
;error{"http = "+string}
CEND

; Checkerboard drawing function for demo
Statement DrawCheckerBoard{*engine.tuiEngine,*rp.RastPort,dx.l,dy.l,xoff.l,yoff.l,width.l,height.l,qs.l}

  r.l = xoff /qs + yoff/qs

  xoff = xoff MOD qs
  yoff = yoff MOD qs

  For y1.l=0 To height+qs-1 Step qs
    For x1.l=0 To width+qs-1 Step qs

      n.l = (y1+x1)/qs+r
      If (n&1)=1
        SetAPen_ *rp,*engine\pen[#TUIPEN_HALFSHADOW]
      Else
        SetAPen_ *rp,*engine\pen[#TUIPEN_HALFSHINE]
      End If

      qx1.l = x1-xoff
      qy1.l = y1-yoff

      qx2.l = qx1+qs-1 : If qx2>=width  Then qx2=width-1
      qy2.l = qy1+qs-1 : If qy2>=height Then qy2=height-1

      If qx1<0 Then qx1=0
      If qy1<0 Then qy1=0

      RectFill_ *rp,qx1+dx,qy1+dy,qx2+dx,qy2+dy

    Next
  Next

End Statement

quitme.l = False
While quitme=False
  Wait_ $FFFFFFFF
  Repeat
    *notify.tuiNotify = ntui_GetNotify{*engine}
    Select ntui_GetNotifyID{*notify}
      CNIF @#TUI_HAS_CUSTOMVIEW
      Case "CVTOUCH"
        *obj.tuiObject = ntui_GetNotifyObject{*notify}
        ntui_SetFocus{*obj}
        ntui_SetAttr{*obj,#TUIA_ACTIVE,True}
        ntui_SetAttr{*obj,#TUIA_MOUSEPOINTER,#TUIPOINTER_TARGET}

      Case "CVRELEASE"
        *obj.tuiObject = ntui_GetNotifyObject{*notify}
        ntui_SetAttr{*obj,#TUIA_ACTIVE,False}
        ntui_SetAttr{*obj,#TUIA_MOUSEPOINTER,#TUIPOINTER_DEFAULT}

      Case "CVMOVE"
        *obj.tuiObject = ntui_GetNotifyObject{*notify}
        *rp.RastPort = ntui_ObtainRastPort{*obj}
        If *rp
          ntui_GetNotifyAttr{*notify,#TUINA_CXPOS,&mx.l}
          ntui_GetNotifyAttr{*notify,#TUINA_CYPOS,&my.l}

          ntui_GetAttr{*obj,#TUIA_XPOS,&objx.l}
          ntui_GetAttr{*obj,#TUIA_YPOS,&objy.l}

          ntui_GetAttr{*obj,#TUICVA_HOFFSET,&xoff.l}
          ntui_GetAttr{*obj,#TUICVA_VOFFSET,&yoff.l}

          a.s = Str$(mx+xoff)+"/"+Str$(my+yoff)+"      " ; draw the mouse koos
          SetAPen_ *rp,1
          SetBPen_ *rp,0
          Move_ *rp,objx+32,objy+32
          Text_ *rp,&a,FLen(a)

          ntui_ReleaseRastPort{*obj}
        End If

      Case "CVSCROLL"
        *obj = ntui_GetNotifyObject{*notify}
        ntui_PostNotify{*obj,"REFRESH", Null}

      CEND
      Case "req_file"   : ntui_ShowRequesterByID{*engine,"req_file"}
      Case "req_path"   : ntui_ShowRequesterByID{*engine,"req_path"}
      Case "req_save"   : ntui_ShowRequesterByID{*engine,"req_save"}
      Case "req_screen" : ntui_ShowRequesterByID{*engine,"req_screen"}
      Case "req_font"   : ntui_ShowRequesterByID{*engine,"req_font"}
      Case "req_info"   : ntui_ShowRequesterByID{*engine,"req_info"}
      Case "ev_req_file"   : error{"file: "+ntui_GetNotifyString{*notify}}
      Case "ev_req_save"   : error{"save: "+ntui_GetNotifyString{*notify}}
      Case "ev_req_path"   : error{"path: "+ntui_GetNotifyString{*notify}}
      Case "MenuHit3"   :
        *obj = ntui_GetNotifyObject{*notify}
        *win.tuiWindow = ntui_GetRootWindow{*obj}
        ntui_GetAttr{*win,#TUIWA_INSTANCEID,&instanceID.l}
        error{"Menuhit with: "+Str$(*obj)+" win:"+Str$(*win)+" ID:"+Str$(instanceID)}

      Case "TEST"       : message{"User hit the button!"}
        *obj.tuiObject = ntui_GetObjectByID{*engine,"aslfr"}
        If *obj
          ntui_ShowRequester{(.tuiRequester)*obj}
        End If
      Case "fileRequested"
        error{"Hurray!"}
      Case "QUIT"       : quitme=True
      Case "CLOSE"      : quitme=True
      Case "POPUP"      : ntui_PopUp{*engine} ; message{"App Pop up!"}
      Case "ICONIFY"    : ntui_Iconify{*engine} ;message{"App iconify!"}
      Case "WINDOWDROP" : message{"Icon drop on Window: " }
        *obj.tuiObject = ntui_GetNotifyObject{*notify}
        s.s = ntui_GetNotifyString{*notify}
        ntui_SetAttr{*obj,#TUIWA_TITLE,&s}
      Case "ICONDROP"   : message{"Icon drop on app icon: " }
      Case "MESSAGE"    : message{"got AREXX message: "}
      Case "Cycle"
        ;a.s = Str$(ntui_GetValueByID{*engine,"CYCL"})
        ;b.s = Str$(0)
        ;message{"Cycle Event "+b.s+" and extra by ID "+a.s}
      Case "VIEW"
        ;message{"Click view!"}
      Case "KEY"
        message{"Key Press!"}
      Case "listview_ontouch"
        message{"listview touched!"}
      Case "listview_onselect"
        message{"listview selected!"}
      CNIF @#TUI_HAS_TEXTBOX
      Case "TBPREFS" ; preferences for textbox demo have changed
        nflags.l = #TUIF_NORMAL
        ntui_GetAttrByID{*engine,"font_small" ,#TUIA_VALUE,&small.l} : If small  Then nflags = #TUIF_SMALL
        ntui_GetAttrByID{*engine,"font_fix"   ,#TUIA_VALUE,&fix.l}   : If fix    Then nflags = #TUIF_FIX
        ntui_GetAttrByID{*engine,"font_serif" ,#TUIA_VALUE,&serif.l} : If serif  Then nflags = #TUIF_SERIF
        ntui_GetAttrByID{*engine,"font_italic",#TUIA_VALUE,&italic.l}: If italic Then nflags | #TUIF_ITALIC
        ntui_GetAttrByID{*engine,"font_bold"  ,#TUIA_VALUE,&bold.l}  : If bold   Then nflags | #TUIF_BOLD

        tbflags.l = 0
        ntui_GetAttrByID{*engine,"tb_showcr"    ,#TUIA_VALUE,&showcr.l} : If showcr   Then tbflags | #TUITBF_SHOWCR
        ntui_GetAttrByID{*engine,"tb_readonly"  ,#TUIA_VALUE,&readonly.l} : If readonly Then tbflags | #TUITBF_READONLY

        cursorStyle.l = #TUITBCS_BLOCK
        ntui_GetAttrByID{*engine,"tb_linecursor",#TUIA_VALUE,&lc.l}     : If lc       Then cursorStyle = #TUITBCS_LINE
        ntui_GetAttrByID{*engine,"tb_blink"     ,#TUIA_VALUE,&blink.l}  : If blink    Then blinkspeed.l= 3 : Else blinkspeed=-1

        *tb.tuiTextBox = (.tuiTextBox)ntui_GetObjectByID{*engine,"TB1"}
        ntui_GetAttr{*tb,#TUITBA_TBFLAGS,&flags.l}
        flags | (#TUITBF_SHOWCR|#TUITBF_READONLY)
        flags - (#TUITBF_SHOWCR|#TUITBF_READONLY)
        flags | tbflags

        ntui_SetAttr{*tb,#TUITBA_TBFLAGS,flags}
        ntui_SetAttr{*tb,#TUITBA_CURSORSTYLE,cursorStyle}

        ntui_GetAttr{*tb,#TUIA_FLAGS,&flags}
        flags | (#TUIF_SMALL|#TUIF_FIX|#TUIF_SERIF|#TUIF_NORMAL|#TUIF_BOLD|#TUIF_ITALIC)
        flags - (#TUIF_SMALL|#TUIF_FIX|#TUIF_SERIF|#TUIF_NORMAL|#TUIF_BOLD|#TUIF_ITALIC)
        flags | nflags
        ntui_SetAttr{*tb,#TUIA_FLAGS,flags}
        ntui_SendEvent{*tb,#TUIEV_RELAYOUT}
        ntui_SetAttr{*tb,#TUITBA_BLINKSPEED,blinkspeed}
      CEND
      Case "REFRESH"
        *obj.tuiObject = ntui_GetNotifyObject{*notify}
        If *obj
          If *obj\flags&#TUIF_ONSCREEN
          Select str_Read{&*obj\nameID}
            CNIF @#TUI_HAS_CUSTOMVIEW
            Case "CView1"
              *rp.RastPort = ntui_ObtainRastPort{*obj}
              If *rp

                ntui_GetAttr{*obj,#TUIA_XPOS,&objx}
                ntui_GetAttr{*obj,#TUIA_YPOS,&objy}

                ntui_GetAttr{*obj,#TUIA_WIDTH,&width.l}
                ntui_GetAttr{*obj,#TUIA_HEIGHT,&height.l}

                ntui_GetAttr{*obj,#TUICVA_HOFFSET,&xoff.l}
                ntui_GetAttr{*obj,#TUICVA_VOFFSET,&yoff.l}

                DrawCheckerBoard{*engine,*rp,objx,objy,xoff,yoff,width,height,64}

                ntui_ReleaseRastPort{*obj}
              End If

            Case "CView2"
              *rp.RastPort = ntui_ObtainRastPort{*obj}
              *oldRegion.Region = Null
              If *rp
                *scrview.tuiScrollView = (.tuiScrollView)ntui_GetObjectByID{*engine,"SCRVIEW"}
                If *scrview
                   ntui_GetAttr{*scrview,#TUIA_CBOX,&*cbox.tuiRect}
                  *oldRegion=ntui_AddClip{*rp,*cbox}

                  ntui_GetAttr{*obj,#TUIA_XPOS,&objx}
                  ntui_GetAttr{*obj,#TUIA_YPOS,&objy}

                  ntui_GetAttr{*obj,#TUIA_WIDTH,&width.l}
                  ntui_GetAttr{*obj,#TUIA_HEIGHT,&height.l}

                  ntui_GetAttr{*obj,#TUICVA_HOFFSET,&xoff.l}
                  ntui_GetAttr{*obj,#TUICVA_VOFFSET,&yoff.l}

                  DrawCheckerBoard{*engine,*rp,objx,objy,xoff,yoff,width,height,64}

                  ntui_RemClip{*rp,*oldRegion}
                End If
                ntui_ReleaseRastPort{*obj}
              End If
            CEND
          End Select
          End If
        End If
      Default
        If *notify
          If *notify\obj
            a.s = "/ obj class="+Str$(*notify\obj\classID)
          Else
            a.s = "/ obj=NULL!"
          End If
          a.s =  "Unhandled notify: \\22"+str_Read{&*notify\id}+"\\22 "+a+"\\n"
          CNIF @#TUI_HAS_TEXTBOX
          If *con
            ntui_SetAttr{*con,#TUITBA_APPENDTEXT,&a}
          End If
          CEND
        End If
    End Select
  Until *notify=Null
Wend

ntui_FreeEngine{*engine}
_ntui_Free{}
End

xmldata:
Dc.b "<Window id='xmlwin' title='XML Test' onclose='QUIT'>"
Dc.b "  <Group>"
Dc.b "    <TabView activetab=1>"
Dc.b "      <VGroup title='tab #1'>"
Dc.b "        <Label text='Just a button:'/>"
Dc.b "        <Button text='test' onClick='TEST' help='I was created using XML!'/>"
Dc.b "        <ImageButton image='info' text='test' help='I was created using XML!'/>"
Dc.b "        <HGroup>"
Dc.b "          <VGroup>"
Dc.b "            <RadioButton text='Frodo' id=radio1/>"
Dc.b "            <RadioButton text='Gandalf' id='radio2' bind='radio1'/>"
Dc.b "            <RadioButton text='Bilbo' id='radio3' bind='radio2'/>"
Dc.b "          </VGroup>"
Dc.b "          <ImageView image='sys:prefs/ahi.info'/>"
Dc.b "          <VScroller total=100 visible=20  top=10 hasarrows=yes> <space> <label text='xxx'/>"
Dc.b "        </HGroup>"
Dc.b "      </VGroup>"
Dc.b "      <VGroup title='tab #2'>"
Dc.b "      </VGroup>"
Dc.b "    </TabView>"
Dc.b "  </Group>"
Dc.b "</Window>"
Dc.b "<Requester id='req_file' type='file' file='test' path='ram:' onOk='ev_req_file' onCancel='req_cancel' multiselect=true/>"
Dc.b "<Requester id='req_path' type='file' file='test' path='ram:' drawersonly=true onOk='ev_req_path' onCancel='ev_req_cancel' />"
Dc.b "<Requester id='req_save' type='file' file='test' path='ram:' savemode=true onOk='ev_req_save' onCancel='ev_req_cancel' />"
Dc.b "<Requester id='req_font' type='font' file='test' path='ram:' onOk='ev_req_font' onCancel='ev_req_cancel' />"
Dc.b "<Requester id='req_screen' type='screen' onOk='ev_req_screen' onCancel='ev_req_cancel' />"
Dc.b "<Requester id='req_info' type='info' text='Hello World' ok='ok' onOk='ev_req_info' onCancel='ev_req_cancel' />"
Dc.b "<Requester id='req_info2' type='info' onOk='ev_req_info' onCancel='ev_req_cancel' />"
Dc.b 0

alice:
Dc.b "Schner, goldner Nachmittag,",10,"Wo Flut und Himmel lacht!",10
Dc.b "Von schwacher Kindeshand bewegt,",10,"Die Ruder pltschern sacht -;",10
Dc.b "Das Steuer hlt ein Kindesarm",10,"Und lenket unsre Fahrt.",10,10
Dc.b "So fuhren wir gemchlich hin",10,"Auf trumerischen Wellen -;",10
Dc.b "Doch ach! die drei vereinten sich,",10,"Den mden Freund zu qulen -;",10
Dc.b "Sie treiben ihn, sie drngten ihn,",10,"Ein Mhrchen zu erzhlen.",10,10
Dc.b "Die Erste gab's Commandowort;",10,"O schnell, o fange an!",10
Dc.b "Und mach' es so, die Zweite bat,",10,"Da man recht lachen kann!",10
Dc.b "Die Dritte lie ihm keine Ruh",10,"Mit wie? und wo? und wann?",10,10
Dc.b "Jetzt lauschen sie vom Zauberland",10,"Der wunderbaren Mhr';",10
Dc.b "Mit Thier und Vogel sind sie bald'",10,"In freundlichem Verkehr,",10
Dc.b "Und fhlen sich so heimisch dort,",10,"Als ob es Wahrheit wr'. -;",10,10
Dc.b "Und jedes Mal, wenn Fantasie",10,"Dem Freunde ganz versiegt: -;",10
Dc.b "",34,"das Uebrige ein ander Mal!",34,"",10,"O nein, sie leiden's nicht.",10
Dc.b "",34," ",34,"Es ist ja schon ein ander Mal!",34," ",34," -;",10,"So rufen sie vergngt.",10,10
Dc.b "So ward vom schnen Wunderland",10,"Das Mrchen ausgedacht,",10
Dc.b "So langsam Stck fr Stck erzhlt,",10,"Beplaudert und belacht,",10
Dc.b "Und froh, als es zu Ende war,",10,"Der Weg nach Haus gemacht.",10,10
Dc.b "Alice! O nimm es freundlich an!",10,"Leg' es mit gt'ger Hand",10
Dc.b "Zum Straue, den Erinnerung",10,"Aus Kindheitstrumen band,",10
Dc.b "Gleich welken Blthen, mitgebracht",10,"Aus liebem, fernen Land.",10,10
Dc.b "- Lewis Carroll";,10
Dc.b 0

CEND

