; XTRA
; Embedded .xtra Header
; 
; General Info
; -------------------------------------------------------
; ExePath         = "RAM:"
; ExeFile         = "Prog.exe"
; CreateIcon      = 0
; Residents       = "all.res"
; 
; Compiler
; -------------------------------------------------------
; StringBuffer    = 8192
; MakeSmallest    = 0
; Version         = 0.0.0
; NumberOfBuilds  = 0
; 
; Debugger
; -------------------------------------------------------
; CliArgs         = ""
; StackSize       = 32768
; RuntimeDebug    = 0
; DebugInfo       = 0
; OverflowCheck   = 0
; AssemblerCheck  = 1
; InterruptCheck  = 1
; AutoRun         = 1
; 
; Editor
; -------------------------------------------------------
; CursorLine      = 281
; CursorColumn    = 29
; LabelSearch     = ""
; 
; Blitz Objects
; -------------------------------------------------------
; Max IconInfo    = 1
; Max NChunky     = 50
; Max MUIObject   = 50
; Max PTModule    = 5
; Max AsyncReq    = 4
; Max Req-Lib     = 5
; Max GTMenuList  = 5
; Max Console     = 5
; Max TCPSock     = 5
; Max XBSound     = 10
; Max Chunky      = 20
; Max File        = 5
; Max GadgetList  = 5
; Max Queue       = 10
; Max Screen      = 5
; Max Shape       = 100
; Max CopList     = 10
; Max Sprite      = 20
; Max Stencil     = 5
; Max Module      = 5
; Max Window      = 20
; Max Anim        = 10
; Max Sound       = 10
; Max Bank        = 5
; Max Buffer      = 10
; Max BitMap      = 10
; Max Slice       = 10
; Max Page        = 4
; Max Tape        = 5
; Max IntuiFont   = 5
; Max MedModule   = 8
; Max Palette     = 4
; Max MenuList    = 5
; Max BlitzFont   = 4
; Max GTList      = 20
; /XTRA
; ted.include automatically generated by FD2Include (Thilo Koehler)

CNIF #__include=0
optimize 7
Syntax 2
WBStartup
CEND

XINCLUDE "error.include.bb2"

; Library offsets:
#_LVO_TEDBASE_TEDSetLabelList   = -30
#_LVO_TEDBASE_TEDSetLabelCount  = -36
#_LVO_TEDBASE_TEDGetLabelList   = -42
#_LVO_TEDBASE_TEDGetLabelCount  = -48
#_LVO_TEDBASE_TEDSetJumpTable   = -54
#_LVO_TEDBASE_TEDGetJumpTable   = -60
#_LVO_TEDBASE_TEDError          = -66
#_LVO_TEDBASE_TEDSetFirstLine   = -72
#_LVO_TEDBASE_TEDSetCurrentLine = -78
#_LVO_TEDBASE_TEDGetFirstLine   = -84
#_LVO_TEDBASE_TEDGetCurrentLine = -90
#_LVO_TEDBASE_TEDDetoke         = -96
#_LVO_TEDBASE_TEDGetFilename    = -102
#_LVO_TEDBASE_TEDGetPathname    = -108

SHARED *_TEDBase.Library

; Helper Macros:
Macro __TEDBase_SaveRegs
MOVE.l a4,-(a7) : MOVE.l a5,-(a7) : MOVE.l a6,-(a7) : MOVE.l d7,-(a7)
End Macro

Macro __TEDBase_RestoreRegs
MOVE.l (a7)+,d7 : MOVE.l (a7)+,a6 : MOVE.l (a7)+,a5 : MOVE.l (a7)+,a4
End Macro


; Wrapper Macros:
Macro TEDSetLabelList;{ret.l,&mouselist}
!__TEDBase_SaveRegs
GetReg a0,`2
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDSetLabelList(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDSetLabelCount;{ret.l,&mousecount}
!__TEDBase_SaveRegs
GetReg a0,`2
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDSetLabelCount(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDGetLabelList;{ret.l}
!__TEDBase_SaveRegs
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDGetLabelList(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDGetLabelCount;{ret.l}
!__TEDBase_SaveRegs
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDGetLabelCount(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDSetJumpTable;{ret.l,&comdata}
!__TEDBase_SaveRegs
GetReg a0,`2
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDSetJumpTable(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDGetJumpTable;{ret.l}
!__TEDBase_SaveRegs
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDGetJumpTable(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDError;{ret.l,bodytext}
!__TEDBase_SaveRegs
GetReg a0,`2
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDError(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDSetFirstLine;{ret.l,&firstline}
!__TEDBase_SaveRegs
GetReg a0,`2
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDSetFirstLine(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDSetCurrentLine;{ret.l,&currentline}
!__TEDBase_SaveRegs
GetReg a0,`2
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDSetCurrentLine(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDGetFirstLine;{ret.l}
!__TEDBase_SaveRegs
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDGetFirstLine(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDGetCurrentLine;{ret.l}
!__TEDBase_SaveRegs
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDGetCurrentLine(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDDetoke;{ret.l,sourceline}
!__TEDBase_SaveRegs
GetReg a0,`2
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDDetoke(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDGetFilename;{ret.l}
!__TEDBase_SaveRegs
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDGetFilename(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro

Macro TEDGetPathname;{ret.l}
!__TEDBase_SaveRegs
GetReg a6,*_TEDBase
JSR _LVO_TEDBASE_TEDGetPathname(a6)
!__TEDBase_RestoreRegs
`1 = PutD0
End Macro


; Open/Close Library:
Function.l ted_OpenLib{@minVersion.l}
If (*_TEDBase)
  If (minVersion<=*_TEDBase\lib_Version) Then Function Return *_TEDBase
  CloseLibrary_ *_TEDBase : *_TEDBase = 0
End If
If minVersion<0 Then minVersion = 0
*_TEDBase = OpenLibrary_ ("ted.library",minVersion)
If *_TEDBase
  ; (!) Do some other init stuff here...
Else
  If (minVersion>0)
    error{"Unable to open ted.library (v"+Str$(minVersion)+"+)!"}
  Else
    error{"Unable to open ted.library!"}
  End If
End If
Function Return *_TEDBase
End Function

Statement ted_CloseLib{}
If *_TEDBase
  ; (!) Do some freeing stuff here that you inited in _TEDBase_Init{}...
  CloseLibrary_ *_TEDBase : *_TEDBase = 0
End If
End Statement
!autoexit{ted_CloseLib}


; Wrapper Functions:
Statement TEDSetLabelList{mouselistP.l}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDSetLabelList{result.l,mouselistP}
End If
End Statement

Statement TEDSetLabelCount{mousecountP.l}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDSetLabelCount{result.l,mousecountP}
End If
End Statement

Function.l TEDGetLabelList{}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDGetLabelList{result.l}
End If
Function Return result
End Function

Function.l TEDGetLabelCount{}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDGetLabelCount{result.l}
End If
Function Return result
End Function

Statement TEDSetJumpTable{comdataP.l}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDSetJumpTable{result.l,comdataP}
End If
End Statement

Function.l TEDGetJumpTable{}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDGetJumpTable{result.l}
End If
Function Return result
End Function

Function.l TEDError{_bodytext.s}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDError{result.l,&_bodytext}
End If
Function Return result
End Function

Statement TEDSetFirstLine{firstlineP.l}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDSetFirstLine{result.l,firstlineP}
End If
End Statement

Statement TEDSetCurrentLine{currentlineP.l}
If (ted_OpenLib{})  ; (!) put your min version here if needed!
  !TEDSetCurrentLine{result.l,currentlineP}
End If
End Statement

Function.l TEDGetFirstLine{}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDGetFirstLine{result.l}
End If
Function Return result
End Function

Function.l TEDGetCurrentLine{}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDGetCurrentLine{result.l}
End If
Function Return result
End Function

Function.l TEDDetoke{sourcelineP.l}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDDetoke{result.l,sourcelineP}
End If
Function Return result
End Function

Function.l TEDGetFilename{}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDGetFilename{result.l}
End If
Function Return result
End Function

Function.l TEDGetPathname{}
If (ted_OpenLib{}) ; (!) put your min version here if needed!
  !TEDGetPathname{result.l}
End If
Function Return result
End Function


CNIF #__include=0

; (!) place your built-in demo here

End

CEND


