TABLE OF CONTENTS

datatypes.library/--background--
datatypes.library/--rexxhost--
datatypes.library/AddDTObject
datatypes.library/CopyDTMethods
datatypes.library/CopyDTTriggerMethods
datatypes.library/DisposeDTObject
datatypes.library/DoAsyncLayout
datatypes.library/DoDTDomainA
datatypes.library/DoDTMethodA
datatypes.library/DrawDTObjectA
datatypes.library/FindMethod
datatypes.library/FindToolNodeA
datatypes.library/FindTriggerMethod
datatypes.library/FreeDTMethods
datatypes.library/GetDTAttrsA
datatypes.library/GetDTMethods
datatypes.library/GetDTString
datatypes.library/GetDTTriggerMethodDataFlags
datatypes.library/GetDTTriggerMethods
datatypes.library/LaunchToolA
datatypes.library/LockDataType
datatypes.library/NewDTObjectA
datatypes.library/ObtainDataTypeA
datatypes.library/ObtainDTDrawInfoA
datatypes.library/PrintDTObjectA
datatypes.library/RefreshDTObjectA
datatypes.library/ReleaseDataType
datatypes.library/ReleaseDTDrawInfo
datatypes.library/RemoveDTObject
datatypes.library/SaveDTObjectA
datatypes.library/SetDTAttrsA
datatypes.library/StartDragSelect
datatypes.library/--background--             datatypes.library/--background--

   PURPOSE
	The datatypes.library provides transparent data handling
	abilities to applications.  Application developers can register
	their data format with datatypes.library and provide a class
	library for handling their data within other applications.

   OVERVIEW

	* Object Oriented

	datatypes.library implementation is object oriented, using the
	boopsi functions of Intuition.  Each data class is implemented
	as a shared system library.

	* Embedded Objects

	datatypes.library provides the ability to embed different object
	types within an application.  For example, an application can
	embed an picture object or even an AmigaGuide document browser
	within their application's window.  Objects can also be embedded
	within other objects.

	* Gadget-like

	Embedded objects are actually boopsi gadgets.  That means that
	input handling is done on Intuition's task.  Time intensive
	operations, such as layout when the window size changes, are
	off-loaded to a sub-process.  Printing, clipboard operations,
	file read/write are also off-loaded to a separate process on an
	as-needed basis.

	* Trigger Methods

	Sometimes it is necessary for an application to provide
	additional controls for navigating through an object.  For
	example, with an AmigaGuide object it is necessary to have
	controls for "Contents", "Index", "Browse >", "Browse <".  Each
	class implements a method that returns the trigger methods, and
	the appropriate labels, that a class supports.

	* Format Conversion

	As long as the objects are sub-classes of the same class, data
	from one format can be written out as another format.  For
	example, it is possible to read in an ILBM file and write out a
	JPEG file, since both data types are sub-classes of PICTURE.

	* Future Compatible

	Each class implements a method that returns the supported
	methods within a class.  This way an application can ask an
	object if it is capable of any particular method, such as
	DTM_WRITE for example.

	* Data Type Detection

	datatypes.library provides the ability to examine a file or
	the clipboard to determine what type of data it contains.

datatypes.library/--rexxhost--                 datatypes.library/--rexxhost--

   HOST INTERFACE
	datatypes.library provides an ARexx function host interface that
	enables ARexx programs to take advantage of the features of data
	types.  The functions provided by the interface are directly
	related to the functions described herein, with the differences
	mostly being in the way they are called.

	The function host library vector is located at offset -30 from
	the library. This is the value you provide to ARexx in the
	AddLib() function call.

   FUNCTIONS
	ExamineDT(FILENAME/A,VARIABLENAME,STEM/S,VAR/S)

   EXAMPLE
	\* datatypes.rexx *\
	PARSE ARG fname
	OPTIONS RESULTS

	\* Load the datatypes.library as a function host *\
	IF ~SHOW('L','datatypes.library') THEN
	   CALL ADDLIB('datatypes.library',0,-30)

	   IF fname="" THEN DO
	      SAY "Usage:"
	      SAY "  rx datatypes <filename>"
	      EXIT
	   END

	   SAY 'var test'
	   type = ExamineDT(fname,,VAR)
	   SAY type

	   SAY 'stem test'
	   CALL ExamineDT(fname,dtstem.,STEM)

	   SAY '      Disk Key:' dtstem.DiskKey
	   SAY 'Dir Entry Type:' dtstem.DirEntryType
	   SAY '     File Name:' dtstem.FileName
	   SAY '    Protection:' dtstem.Protection
	   SAY '    Entry Type:' dtstem.EntryType
	   SAY '          Size:' dtstem.Size
	   SAY '        Blocks:' dtstem.NumBlocks
	   SAY '          Date:' dtstem.Date
	   SAY '       Comment:' dtstem.Comment
	   SAY '          Type:' dtstem.BaseType
	   SAY '     File Type:' dtstem.DataType
	   SAY '     Base Name:' dtstem.BaseName
	EXIT

datatypes.library/AddDTObject                   datatypes.library/AddDTObject

    NAME
	AddDTObject - Add an object to a window or requester.   (V39)

    SYNOPSIS
	realposition = AddDTObject (window, requester, object, position);
	d0			    a0      a1	       a2      d0

	LONG AddDTObject (struct Window *, struct Requester *,
			  Object *, LONG);

    FUNCTION
	This function adds a single object to the gadget list of the given
	window or requester at the position in the list specified by the
	position argument.

	When the object is added to the gadget list, the object will
	receive a GM_LAYOUT message with the gpl_Initial field set to
	one.

    INPUTS
	window - Pointer to the window.

	requester - Must be NULL.

	object - Pointer to an object as returned by NewDTObjectA().

	position - Integer position in the list for the new gadget.
	    -1 to add to the end of the list.

    RETURNS
	Returns the position of where the object was actually added.

    SEE ALSO
	RemoveDTObject(), intuition.library/AddGList()

datatypes.library/CopyDTMethods               datatypes.library/CopyDTMethods

   NAME
        CopyDTMethods -- Clone and modify DTA_Methods array (V45)

   SYNOPSIS
        newmethods = CopyDTMethods( methods, include, exclude );

        ULONG *CopyDTMethods( ULONG *, ULONG *, ULONG * );

   FUNCTION
        Copy and modify array of supported methods.

        This function is used for subclass implementors, who want to
        add their methods (like DTM_TRIGGER) to the array of supported
        methods.

   INPUTS
        methods - Methods array, as obtained by GetDTMethods or DTA_Methods.
            NULL causes the function to return NULL.

        include - Methods to include, ~0UL terminated. May be NULL.

        exclude - Methods to exclude, ~0UL terminated. May be NULL.

   RESULT
        newmethods - New array of methods or NULL (no memory).

   SEE ALSO
        FindMethod,
        CopyDTTriggerMethods,
        FreeDTMethods

datatypes.library/CopyDTTriggerMethods datatypes.library/CopyDTTriggerMethods

   NAME
        CopyDTTriggerMethods -- Clone and modify DTA_TriggerMethods array
                                                                      (V45)

   SYNOPSIS
        newmethods = CopyDTTriggerMethods( methods, include, exclude );

        struct DTMethod *CopyDTTriggerMethods( struct DTMethod *,
                                               struct DTMethod *,
                                               struct DTMethod * );

   FUNCTION
        Copy and modify a DTMethods array.
        This function is for subclass implementors for an easy way to
        add their trigger methods to exising ones, or disable some because
        they're internally used.

   INPUTS
        methods - Methods array, as obtained by GetDTTriggerMethods or
            DTA_TriggerMethods.
            NULL causes the function to return NULL.

        include - Trigger methods to include. May be NULL.

        exclude - Trigger methods to exclude. May be NULL.
                  The dtm_Command and dtm_Method fields may have
                  the options described in FindTriggerMethod to
                  filter/match out the given entries.

   NOTE
        It is assumed that the dtm_Label and dtm_Command strings are
        valid as long as the object exists. They are NOT copied.

        Subclasses which implements DTM_TRIGGER __MUST__ send unknown
        trigger methods to it's superclass.

   RESULT
        newmethods - New array of methods or NULL (no memory).

   SEE ALSO
        FindTriggerMethod,
        CopyDTMethods,
        FreeDTMethods

datatypes.library/DisposeDTObject           datatypes.library/DisposeDTObject

    NAME
	DisposeDTObject - Delete a data type object.            (V39)

    SYNOPSIS
	DisposeDTObject (o);
			 a0

	VOID DisposeDTObject (Object *);

    FUNCTION
	This function is used to dispose of a data type object that was
	obtained with NewDTObjectA().

    INPUTS
	o - Pointer to an object as returned by NewDTObjectA().
	    NULL is a valid input.

    SEE ALSO
	NewDTObjectA()

datatypes.library/DoAsyncLayout               datatypes.library/DoAsyncLayout

    NAME
	DoAsyncLayout - Call the DTM_ASYNCLAYOUT method on a separate process.
                                                               (V39)

    SYNOPSIS
	retval = DoAsyncLayout (object, gpl);
	d0			a0	a1

	ULONG DoAsyncLayout (Object *, struct gpLayout *);

    FUNCTION
	This function triggers the DTM_ASYNCLAYOUT method of the given object
	asyncronously. The purpose of asyncronous method dispatch is to
	offload rendering from the input.device.

	The DTM_ASYNCLAYOUT method must exit when SIGBREAKF_CTRL_C signal
	is set.  This indicates that the data has become obsolete and
	the DTM_ASYNCLAYOUT method may be called again.

    INPUTS
	object - Pointer to the data types object.
	gpl - Pointer to a gpLayout message.

    RETURNS

    SEE ALSO

datatypes.library/DoDTDomainA                   datatypes.library/DoDTDomainA

   NAME
       DoDTDomainA -- Obtain the min/nom/max domains of a dt object (V45)

   SYNOPSIS
       retval = DoDTDomainA( o, win, req, rport, which, domain, attrs );
                            a0 a1   a2   a3     d0     a4      a5

       ULONG DoDTDomainA( Object *, struct Window *, struct Requester *,
             struct RastPort *, ULONG, struct IBox *, struct TagItem * );

       retval = DoDTDomain( o, win, req, rport, which, domain, tag1,
                ... );

       ULONG DoDTDomain( Object *, struct Window *, struct Requester *,
             struct RastPort *, ULONG, struct IBox *, Tag, ... );

   FUNCTION

   INPUTS
        o      - Object like returned from NewDTObjectA

        win    - Window the object is attached to

        req    - Requester the object is attached to

        rport  - RastPort, used for domain calculations

        which  - one of the GDOMAIN_#? identifiers from
            <intuition/gadgetclass.h>

        domain - resulting domain box

        attrs  - Additional attributes

   TAGS
        Subclass specific.

        Example:
            DTA_TextAttr (struct TextAttr *) - Default object font
                used for text calculations.

   RETURNS
       retval - The return value returned by GM_DOMAIN or 0UL for an error.

       domain - On success, the domain box will be filled with the
                gadget's domain dimensions for this particular GDOMAIN_#?
                id.

   EXAMPLE

   NOTE
       This function cannot handle the GM_DOMAIN method without
       an object. To do this, you have to use CoreceMethodA
       manually.

   SEE ALSO
       datatypesclass/GM_DOMAIN,
       <intuition/gadgetclass.h>

datatypes.library/DoDTMethodA                   datatypes.library/DoDTMethodA

    NAME
	DoDTMethodA - Do a datatypes method.                    (V39)

    SYNOPSIS
	retval = DoDTMethodA (o, win, req, msg);
	d0		      a0 a1   a2   a3

	ULONG DoDTMethodA (Object *, struct Window *,
			   struct Requester *, Msg);

	retval = DoDTMethod (o, win, req, data, ...);

	ULONG DoDTMethod (Object *, struct Window *,
			  struct Requester *, ULONG, ...);

    FUNCTION
	This function performs a method of an object.

    INPUTS
	o   - Pointer to an object as returned by NewDTObjectA().

	win - Window that the object is attached to.

	req - Requester that the object is attached to.

	msg - The message to send to the object.

    RETURNS
	Returns the value returned by the method.

    SEE ALSO
	intuition.library/DoGadgetMethod()

datatypes.library/DrawDTObjectA               datatypes.library/DrawDTObjectA

    NAME
	DrawDTObjectA - Draw a DataTypes object.                (V44)

    SYNOPSIS
	retval = DrawDTObjectA (rp, o, x, y, w, h, th, tv, attrs);
	d0			a0  a1 d0 d1 d2 d3 d4  d5  a2

	LONG DrawDTObjectA (struct RastPort *rp, Object *, LONG x, LONG y,
			    LONG w, LONG h, LONG th, LONG tv,
			    struct TagItem *);

	retval = DrawDTObject (rp, o, x, y, w, h, th, tv, tag1, ...);

	LONG DrawDTObjectA (struct RastPort *rp, Object *, LONG x, LONG y,
			    LONG w, LONG h, LONG th, LONG tv, Tag, ...);

    FUNCTION
	This function draws a DataTypes object into a RastPort.

	This function can be used for strip printing the object or
	embedding it within a document.

	You must call ObtainDTDrawInfoA() before using this function.

	This function invokes the DTM_DRAW method of the object.

	Clipping MUST be turned on within the RastPort.  This means
	that there must be a valid layer structure attached to the
	RastPort.

    INPUTS
	rp - Pointer to the RastPort to draw into.
	o - Pointer to an object returned by NewDTObjectA().
	x - Left-most point of area to draw into.
	y - Top-most point of area to draw into.
	w - Width of area to draw into.
	h - Height of area to draw into.
	th - Horizontal top in units.
	tv - Vertical top in units.
	attrs - Additional attributes.

    TAGS
	none defined at this time.

    RETURNS
	TRUE to indicate that it was able to render, FALSE on failure.

    SEE ALSO
	ObtainDTDrawInfo(), ReleaseDTDrawInfo()

datatypes.library/FindMethod                     datatypes.library/FindMethod

   NAME
        FindMethod -- find a specified method in methods array (V45)

   SYNOPSIS
        method = FindMethod( methods, searchmethodid );

        ULONG *FindMethod( ULONG *, ULONG );

   FUNCTION
        This function searches for a given method in a given methods
        array like got from GetDTMethods.

   INPUTS
        methods - methods array, like got from GetDTMethods or DTA_Methods
                  NULL is a valid arg.

        searchmethodid - method id to find.

   RETURNS
        Pointer to the method table entry or NULL if not found.

   EXAMPLE
        \* This macro tests if a given method (like DTM_PRINT) is
         * supported by the given object
         *\
        #define IsDTMethodSupported( o, id ) \
                ((BOOL)FindMethod(GetDTMethods( (o) ), (id) ))

   SEE ALSO
       GetDTMethods,
       CopyDTMethods

datatypes.library/FindToolNodeA               datatypes.library/FindToolNodeA

   NAME
        FindToolNodeA -- Find a tool node (V45)

   SYNOPSIS
        tn = FindToolNodeA( toollist, attrs );
        d0                  a0        a1

        struct ToolNode *FindToolNodeA( struct List *,
                                        struct TagItem * );

        tn = FindToolNode( toollist, tag1, ... );

        ULONG FindToolNode( struct List *, ... );

   FUNCTION
        This function searches for a given tool in a list of tool nodes.

   INPUTS
        toollist - struct List * or a struct ToolNode * (which will be
                   skipped) to search in.
                   NULL is a valid arg.

        attrs    - Search tags.
                   A NULL arg returns simple the following node.

   TAGS
        TOOLA_Program    - name of the program to search for

        TOOLA_Which      - one of the TW_#? types.

        TOOLA_LaunchType - Launch mode; TF_SHELL, TF_WORKBENCH or TF_RX

   RETURNS
        struct ToolNode * or NULL

   NOTE
        This function is not limited to the (&(DataType -> dtn_ToolList));
        programmers can set up their own lists.
        The (&(DataType -> dtn_ToolList)) entries are valid as long as
        the application obtains a lock to the DataType (as obtained from
        a dt object, ObtainDataTypeA or LockDataType).

   SEE ALSO
       LaunchToolA

datatypes.library/FindTriggerMethod       datatypes.library/FindTriggerMethod

   NAME
        FindTriggerMethod -- find a specified trigger method in trigger
                             methods array                         (V45)

   SYNOPSIS
        method = FindTriggerMethod( dtm, command, method );

        struct DTMethod *FindTriggerMethod( struct DTMethod *, STRPTR,
                                            ULONG );

   FUNCTION
        This function searches for a given trigger method in a given methods
        array like got from GetDTTriggerMethods.

        If one of the "command" or "method" args matches an array item, this
        function returns a pointer to it.

   INPUTS
        methods - trigger methods array, like got from GetDTTriggerMethods
                  or DTA_TriggerMethods. NULL is a valid arg.

        command - trigger method command name (case-insensitive match),
                  may be NULL (don't match).

        method  - trigger method id, may be ~0UL (don't match).

   RETURNS
        Pointer to the trigger method table entry (struct DTMethod *) or
        NULL if not found.

   EXAMPLE

   SEE ALSO
       GetDTTriggerMethods, CopyDTTriggerMethods

datatypes.library/FreeDTMethods               datatypes.library/FreeDTMethods

   NAME
        FreeDTMethods -- Free methods array obtained by CopyDT#?Methods (V45)

   SYNOPSIS
        FreeDTMethods( methods );

        VOID FreeDTMethods( APTR );

   FUNCTION

   INPUTS
        methods - Methods array, as obtained by CopyDTMethods or
            CopyDTTriggerMethods. NULL is a valid input.

   SEE ALSO
        CopyDTMethods,
        CopyDTTriggerMethods

datatypes.library/GetDTAttrsA                   datatypes.library/GetDTAttrsA

    NAME
	GetDTAttrsA - Obtain attributes for an object.          (V39)

    SYNOPSIS
	retval = GetDTAttrsA (o, attrs);
	d0		      a0  a2

	ULONG GetDTAttrsA (Object *, struct TagItem *);

	retval = GetDTAttrs (o, tag1, ...);

	ULONG GetDTAttrs (Object *, Tag tag1, ...);

    FUNCTION
	This function retrieves the attributes of a data type object.

    INPUTS
	o - Pointer to an object as returned by NewDTObjectA().

	attrs - Attributes to get, terminated with TAG_DONE.  The data
	    element of each pair contains the address of the storage
	    variable.

    RETURNS
	retval - Contains the number of attributes the system was able
	    to obtain.

    SEE ALSO
	SetDTAttrsA(), intuition.library/GetAttr()

datatypes.library/GetDTMethods                 datatypes.library/GetDTMethods

    NAME
	GetDTMethods - Obtain methods an object supports.       (V39)

    SYNOPSIS
	methods = GetDTMethods (object);
	d0			a0

	ULONG GetDTMethods (Object *);

    FUNCTION
	This function obtains a list of methods supported by a given
	object.

    INPUTS
	object - Pointer to an object as returned by NewDTObjectA().

    RETURNS
	Returns a pointer to a ~0 terminated ULONG array.  This array
	is only valid until the object is disposed.

    SEE ALSO
	GetDTTriggerMethods()

datatypes.library/GetDTString                   datatypes.library/GetDTString

    NAME
	GetDTString - Obtain a DataTypes string.                (V39)

    SYNOPSIS
	str = GetDTString (id);
	d0		   d0

	STRPTR GetDTString (ULONG id);

    FUNCTION
	This function is used to obtain a pointer to a localized
	DataTypes string.

    INPUTS
	id - ID of the string to obtain.

    RETURNS
	A pointer to a NULL terminated string.

    SEE ALSO

datatypes.library/GetDTTriggerMethodDataFlagsrary/GetDTTriggerMethodDataFlags

   NAME
       GetDTTriggerMethodDataFlags -- Get data type of dtt_Data value (V45)

   SYNOPSIS
       type = GetDTTriggerMethodDataFlags( method );
                                            d0

       ULONG GetDTTriggerMethodDataFlags( ULONG );

   FUNCTION
       This function returns the kind of data which can be attached
       to the stt_Data field in the dtTrigger method body.

       The data type can be specified by or'ing the method id (within
       STMF_METHOD_MASK value) with one of the STMD_#? identifiers:

       STMD_VOID    - stt_Data MUST be NULL
       STMD_ULONG   - stt_Data contains an unsigned long value
       STMD_STRPTR  - stt_Data is a string pointer
       STMD_TAGLIST - stt_Data points to an array of struct TagItem's,
                      terminated with TAG_DONE

       The trigger methods below STM_USER are explicitly handled, as
       described in <datatypes/datatypesclass.h>, e.g. STM_COMMAND
       return STMD_STRPTR, instead of STMD_VOID.

   INPUTS
       method - dtt_Method ID from struct DTMethod

   RESULT
       type - one of the STMD_#? identifies in <datatypes/datatypesclass.h>

   EXAMPLE
       struct DTMethod htmldtc_dtm[] =
       {
         "Stop Loading", "STOP",       (STM_STOP | STMD_VOID),
         "Load Images",  "LOADIMAGES", ((STM_USER + 20) | STMD_VOID),
         "Goto URL",     "GOTOURL",    ((STM_USER + 21) | STMD_STRPTR),
         NULL,           NULL,         0L
       };

       Sets up three methods:
         "STOP" takes no arguments,
         "LOADIMAGES" takes no arguments and
         "GOTOURL" takes a STRPTR as an argument.

   SEE ALSO
       CopyDTTriggerMethods,
       FindTriggerMethod,
       datatypesclass/DTM_TRIGGER

datatypes.library/GetDTTriggerMethods   datatypes.library/GetDTTriggerMethods

    NAME
	GetDTTriggerMethods - Obtain trigger methods supported by an object
                                                               (V39)

    SYNOPSIS
	methods = GetDTTriggerMethods (object);
	d0				a0

	struct DTMethods *GetDTTriggerMethods (Object *);

    FUNCTION
	This function obtains a list of trigger methods supported by a
	given object.  Applications may use this information to provide
	appropriate controls for the object.
	For example, an AmigaGuide object needs controls for "Contents",
	"Index", "Retrace", "Browse <", and "Browse >",

    INPUTS
	object - Pointer to an object as returned by NewDTObjectA().

    RETURNS
	Returns a pointer to a NULL terminated DTMethod list.  This list is
	only valid until the object is disposed.

    EXAMPLE
	To call the method:

	    DoMethod (object, DTM_TRIGGER, dtm[button]->dtm_Method);

    SEE ALSO
	GetDTMethods()

datatypes.library/LaunchToolA                   datatypes.library/LaunchToolA

   NAME
       LaunchToolA -- invoke a given tool with project (V45)

   SYNOPSIS
       success = LaunchToolA( tool, project, attrs );
       d0                     a0    a1       a2

       ULONG LaunchToolA( struct Tool *, STRPTR, struct TagItem * );

       success = LaunchTool( tool, project, tag1, ... );

       ULONG LaunchTool( struct Tool *, STRPTR, ... );

   FUNCTION
       This function launches an application with a specified project.
       The application and its launch mode and other attributes are
       specified through the "Tool" structure.

   INPUTS
       tool    - Pointer to a Tool structure. NULL is a valid arg.

       project - Name of the project to execute or NULL.

       attrs   - Additional attributes.

   TAGS
       NP_Priority (BYTE) - sets the priority of the launched tool
           Defaults to the current process's priority for
           Shell and ARexx programs; Workbench applications
           defaults to 0 except overridden by the TOOLPRI tooltype.

       NP_Synchronous (BOOL) - don't return until lauched application
           process finishes. Defaults to FALSE. Also see 'NOTE' below.

       Other tags are __currently__ ignored.

   RETURNS
       FALSE for failure, non-zero for success.

   EXAMPLE

   NOTE
       - This function requires the "RX" command when lauching ARexx
         scripts.

       - This function must be launched from a process, not a simple task.

       - This function is not limited to use the struct DataType->dtn_Tools
         tools. Applications can set up their own struct Tool's as long
         as these structures contains no rubbish.
         If you don't know the TW_#? ("which") type of your custom tool, set
         tn_Which to TW_MISC.

       - The NP_Synchronous tag has been removed from <dos/dostags.h> in v51
         because dos.library never supported this feature. In v51.8+ of
         datatypes.library SYS_Asynch can be used instead.

   BUGS
       - The path of the launched tools depends on the parents path.
         If there is no path, shell tools can only launch other tools
         with their full path.

   SEE ALSO
       FindToolNodeA

datatypes.library/LockDataType                 datatypes.library/LockDataType

   NAME
      LockDataType -- Lock a DataType structure.         (V45)

   SYNOPSIS
      LockDataType( dtn );
                    a0

      VOID LockDataType( struct DataType * );

   FUNCTION
      This function is used to lock a DataType structure obtained
      by ObtainDataTypeA or a datatypes object (DTA_DataType attribute).

      All calls to LockDataType or ObtainDataTypeA must match the same
      number of ReleaseDataType calls, otherwise havoc will break out.

   INPUTS
      dtn - DataType structure returned by ObtainDataTypeA. NULL
            is a valid input.

   NOTE
      This function has been made public to allow to get a DataType
      structure from an object (DTA_DataType attribute), and remain the
      reference valid after the object has been disposed off (which
      unlocks the DataType structure locked in NewDTObjectA).

   SEE ALSO
      ObtainDataTypeA, ReleaseDataType

datatypes.library/NewDTObjectA                 datatypes.library/NewDTObjectA

    NAME
	NewDTObjectA - Create an data type object.              (V39)

    SYNOPSIS
	o = NewDTObjectA (name, attrs);
	d0		  d0   a0

	Object *NewDTObjectA (APTR, struct TagItem *);

	o = NewDTObject (name, tag1, ...);

	Object *NewDTObject (APTR, Tag tag1, ...);

    FUNCTION
	This is the method for creating datatype objects from
	'boopsi' classes.  Boopsi' stands for "basic object-oriented
	programming system for Intuition".)

	You further specify initial "create-time" attributes for the
	object via a TagItem list, and they are applied to the
	resulting datatype object that is returned.

    INPUTS
	name - Name of the data source.  Usually an existing file name.

	attrs - Pointer to a taglist containing additional arguments.

    TAGS
	DTA_SourceType - Specify the type of source data; such as coming
	    from a file or clipboard (defaults to DTST_FILE).  If
	    source type is clipboard, then the name field contains the
	    numeric clipboard unit. If source type is DTST_MEMORY,
	    the name field will be ignored (V44).

	DTA_Handle - Can optionally be used instead of the name field.
	    Must be a valid file lock if DTA_SourceType is DTST_FILE.
	    Must be a valid IFFHandle if DTA_SourceType is DTST_CLIPBOARD.
	    Will be ignored if DTA_SourceType is DTST_MEMORY.

	    NOTE: If you provide a file lock if DTA_SourceType is DTST_FILE
	          then this file lock will become associated with the
	          data type object. Do not UnLock() it, or freeing the
	          data type object will result in the same lock being
	          unlocked again!

	          If you provide a file lock on a file, you must also
	          provide the name of the file or it will fail to open.
	          This makes the use of the DTA_Handle difficult to
	          justify for this use case.

	DTA_DataType - Specify the class of data.  Data is a pointer to a
	    valid DataType.  This is only used when attempting to create
	    a new object that doesn't have any source data.

	DTA_GroupID - Specify that the object must be of this type, or
	    NewDTObject() will fail with IoErr() of
	    ERROR_OBJECT_WRONG_TYPE.

	DTA_SourceAddress (APTR) -- For DTST_MEMORY source data, this
	    specifies the memory address at which the source data is
	    located. This must be non-NULL. This attribute is required
	    for DTST_MEMORY source data (V44).

	DTA_SourceSize (ULONG) -- For DTST_MEMORY source data, this
	    specifies the size of the source data (in bytes). This must
	    be greater than 0. This attribute is required for DTST_MEMORY
	    source data (V44).

	GA_Left, GA_RelRight, GA_Top, GA_RelBottom, GA_Width, GA_RelWidth,
	GA_Height, GA_RelHeight - Specify the placement of the object
	    within the destination window.

	GA_ID - Specify the object ID.

	GA_UserData - Specify the application specific data for the
	    object.

    RETURNS
	A boopsi object, which may be used in different contexts such
	as a gadget or image, and may be manipulated by generic functions.
	You eventually free the object using DisposeDTObject().

	A NULL return indicates failure.  Use IoErr() to get error value.
	Following is a summary of the error number used and there meaning
	as it relates to DataTypes.

	ERROR_REQUIRED_ARG_MISSING - Indicates that a required attribute
	    wasn't passed in.
	ERROR_BAD_NUMBER - An invalid group ID was passed in.
	ERROR_OBJECT_WRONG_TYPE - Object data type doesn't match
	    DTA_GroupID.
	ERROR_NO_FREE_STORE - Not enough memory.
	DTERROR_UNKNOWN_DATATYPE - Unable to open the class library
	    associated with the data type.
	DTERROR_COULDNT_OPEN - Unable to open the data object.
	ERROR_NOT_IMPLEMENTED - Unknown handle type.

    NOTES
	This function invokes the OM_NEW "method" for the class specified.

	The DTST_MEMORY source type introduced in V44 makes in-memory
	data available to subclasses as if the data were stored in a
	file. Thus, subclasses will see the data as DTST_FILE. Since
	the data does not correspond to an on-disk file, subclasses
	and examine hook code must not assume that they will be able
	to reopen the "file" whose data has been provided to them.

    EXAMPLE
	STRPTR fileName = "s:startup-sequence"
	Object *o;

	\* Simplest use is to just open an existing file *\
	if (o = NewDTObject ((APTR)fileName, NULL))
	{
	    \* Free the object when we are done with it *\
	    DisposeDTObject (o);
	}

    SEE ALSO
	AddDTObject(), DisposeDTObject(), RemoveDTObject(),
	intuition.library/NewObjectA()

    BUGS
	Documentation used to state that for DTA_SourceType == DTST_FILE
	the DTA_Handle tag had to refer to a valid file handle. This is
	not correct. The DTA_Handle tag for DTA_SourceType == DTST_FILE
	always had to be a valid file lock.

	A file lock used with the DTA_Handle tag and
	DTA_SourceType == DTST_FILE will become part of the data type
	object. UnLock()'ing that file lock will cause the same file
	lock to be UnLock()'ed again, causing memory to be freed
	twice.

	The use of a file lock with DTA_Handle for a file will still
	require that you also provide the name of the file in question,
	making it hard to justify its use in the first place.

datatypes.library/ObtainDataTypeA           datatypes.library/ObtainDataTypeA

   NAME
	ObtainDataTypeA - Examines a handle and return its DataType.
                                                               (V39)
   SYNOPSIS
	dtn = ObtainDataTypeA (type, handle, attrs);
	d0			d0    a0      a1

	struct DataType *ObtainDataTypeA (ULONG, APTR, struct TagItem *);

	dtn = ObtainDataType (type, handle, tag1, ...);

	struct DataType *ObtainDataType (ULONG, APTR, Tag tag1, ...);

   FUNCTION
	This function examines the data that the handle points to,
	and returns a DataType record that describes the data.

   INPUTS
	type - Type of handle.

	handle - Handle to examine.
	    For DTST_FILE, handle must be BPTR lock.
	    For DTST_CLIPBOARD, handle must be struct IFFHandle *.
	    For DTST_MEMORY, handle will be ignored (you need
	    to specify the additional information required by this
	    source type through the attrs list).

	attrs - Additional attributes (see TAGS).

   TAGS
	DTA_SourceAddress (APTR) -- For DTST_MEMORY source data, this
	    specifies the memory address at which the source data is
	    located. This must be non-NULL. This attribute is required
	    for DTST_MEMORY source data (V44).

	DTA_SourceSize (ULONG) -- For DTST_MEMORY source data, this
	    specifies the size of the source data (in bytes). This must
	    be greater than 0. This attribute is required for DTST_MEMORY
	    source data (V44).

   NOTES
	The datatypes.library maintains a sorted list of all the
	DataType descriptors.  The descriptor can consist of a
	function, a data mask for the first 64 bytes of the data,
	and a name pattern.

	The sort order for the list is:

	    Descriptors with a function and no mask or name pattern.
	    Descriptors with a function and a mask or name pattern.
	    Descriptors with no function and a mask or name pattern.

	Within each group, they are also sorted in descending priority
	and descending mask length.

	The DTST_MEMORY source type introduced in V44 makes in-memory
	data available to subclasses as if the data were stored in a
	file. Thus, subclasses will see the data as DTST_FILE. Since
	the data does not correspond to an on-disk file, subclasses
	and examine hook code must not assume that they will be able
	to reopen the "file" whose data has been provided to them.

   RETURNS
	Success returns a pointer to a DataType.  You must call
	ReleaseDataType() when you are done with the handle.

	A NULL return indicates failure.  Use IoErr() to get error value.
	Following is a summary of the error number used and there meaning
	as it relates to DataTypes.

	ERROR_NO_FREE_STORE - Not enough memory.
	ERROR_OBJECT_NOT_FOUND - Unable to open the data object.
	ERROR_NOT_IMPLEMENTED - Unknown handle type.

   SEE ALSO
	ReleaseDataType()

datatypes.library/ObtainDTDrawInfoA       datatypes.library/ObtainDTDrawInfoA

    NAME
	ObtainDTDrawInfoA - Obtain a DataTypes object for drawing. (V44)

    SYNOPSIS
	handle = ObtainDTDrawInfoA (o, attrs);
	d0			    a0 a1

	APTR ObtainDTDrawInfoA (Object *, struct TagItem *);

	handle = ObtainDTDrawInfo (o, tag1, ...);

	APTR ObtainDTDrawInfo (Object *, Tag, ...);

    FUNCTION
	This function prepares a DataTypes object to render itself
	into a RastPort.

	This function will send the DTM_OBTAINDRAWINFO method
	to the object using the opSet message structure.

    INPUTS
	o - Pointer to an object as returned by NewDTObjectA().
	attrs - Additional attributes.

    RETURNS
	Returns a opaque handle that must be passed to ReleaseDTDrawInfo()
	when the application is done drawing the object.

    NOTE
	This function implies a layout operation. Thus, you must not
	add the object in question to a window or requester and use
	ObtainDTDrawInfo() on it.

    TAGS
	none defined at this time.

    SEE ALSO
	DrawDTObjectA(), ReleaseDTDrawInfo()

datatypes.library/PrintDTObjectA             datatypes.library/PrintDTObjectA

    NAME
	PrintDTObjectA - Call the DTM_PRINT method on a separate process.
                                                               (V39)

    SYNOPSIS
	retval = PrintDTObjectA (object, window, requester, msg);
	d0			 a0	 a1	 a2	    a3

	ULONG PrintDTObjectA (Object *, struct Window *, struct Requester *,
			      struct dtPrint *);

	retval = PrintDTObject (object, window, requester, data, ...);

	ULONG PrintDTObject (Object *, struct Window *, struct Requester *,
			     ULONG, ...);

    FUNCTION
	This function is triggers the DTM_PRINT method of the object
	asyncronously.

	Once the application has performed the PrintDTObjectA() function,
	it must not manipulate the printerIO union until it receives a
	IDCMP_IDCMPUPDATE message that contains the DTA_PrinterStatus
	tag.

	To abort a print, the application sends the DTM_ABORTPRINT method
	to the object.  This in turn signals the print process with a
	SIGBREAKF_CTRL_C.

    INPUTS
	object - Pointer to the DataTypes object.
	window - Pointer to the window that the object has been added to.
	requester - Pointer to the requester that the object has been
	    added to.

    RETURNS
	Returns TRUE if successful, FALSE on error.

    SEE ALSO

datatypes.library/RefreshDTObjectA         datatypes.library/RefreshDTObjectA

    NAME
	RefreshDTObjectA - Refresh a datatypes object.          (V39)

    SYNOPSIS
	RefreshDTObjectA (object, window, req, attrs)
			   a0	   a1	   a2	a3

	VOID RefreshDTObjectA (Object *, struct Window *,
			        struct Requester *, struct TagItem *);

	RefreshDTObject (object, window, req, tag1, ...);

	VOID RefreshDTObject (Object *, struct Window *,
			       struct Requester *, Tag tag1, ...);

    FUNCTION
	Refreshes the specified object, by sending the GM_RENDER method to
	the object.

    INPUTS
	object - Pointer to an object as returned by NewDTObjectA().

	window - Pointer to the window.

	req - Must be NULL.

	attrs - Additional attributes (currently none are defined).

    SEE ALSO
	AddDTObject(), RemoveDTObject(), intuition.library/RefreshGList()

datatypes.library/ReleaseDataType           datatypes.library/ReleaseDataType

    NAME
	ReleaseDataType - Release a DataType structure.         (V39)

    SYNOPSIS
	ReleaseDataType (dtn);
		      a0

	VOID ReleaseDataType (struct DataType *);

    FUNCTION
	This function is used to release a DataType structure obtained
	by ObtainDataTypeA().

    INPUTS
	dtn - DataType structure returned by ObtainDataTypeA().  NULL
	    is a valid input.

    SEE ALSO
	ObtainDataTypeA()

datatypes.library/ReleaseDTDrawInfo       datatypes.library/ReleaseDTDrawInfo

    NAME
	ReleaseDTDrawInfo - Release a DataTypes object from drawing. (V44)

    SYNOPSIS
	ReleaseDTDrawInfo (o, handle);
			   a0 a1

	VOID ReleaseDTDrawInfo (Object *, APTR);

    FUNCTION
	This function releases the information obtained 
	with ObtainDTDrawInfoA().

	This function invokes the DTM_RELEASEDRAWINFO method of the
	object using the opMember message structure.

    INPUTS
	handle - Pointer to an object returned by ObtainDTDrawInfoA().

    SEE ALSO
	DrawDTObjectA(), ObtainDTDrawInfo()

datatypes.library/RemoveDTObject             datatypes.library/RemoveDTObject

    NAME
	RemoveDTObject - Remove an object from a window.        (V39)

    SYNOPSIS
	position = RemoveDTObject (window, object);
	d0			    a0	    a1

	LONG RemoveDTObject (struct Window *, Object *);

    FUNCTION
	Removes the object from the object list of the window and waits
	until the AsyncLayout process is complete.  The object will
	receive a DTM_REMOVEDTOBJECT message to inform the object it has
	been removed.

    INPUTS
	window - Pointer to the window.

	object - Pointer to an object as returned by NewDTObjectA().

    RETURNS
	Returns the ordinal position of the removed object.  If the
	object wasn't found in the appropriate list then a -1 is
	returned.

    SEE ALSO
	AddDTObject(), intuition.library/RemoveGList()

datatypes.library/SaveDTObjectA               datatypes.library/SaveDTObjectA

   NAME
        SaveDTObjectA -- Save object's contents                     (V45)

   SYNOPSIS
        success = SaveDTObjectA( o, win, req, file, mode, saveicon, attrs );

        ULONG SaveDTObjectA( Object *, struct Window *, struct Requester *,
                       STRPTR, ULONG, BOOL, struct TagItem * );

        success = SaveDTObject( o, win, req, file, mode, saveicon, tag1,
                                ... );

        ULONG SaveDTObject( Object *, struct Window *, struct Requester *,
                      STRPTR, ULONG, BOOL, Tag, ... );

   FUNCTION
        This function saves the contents of an object into a file.

        The function opens the named file and saves the object's contexts
        into it (DTM_WRITE). Then it closes the file.
        If the DTM_WRITE method returns success and the saveicon option is
        TRUE, matching icon is saved.

        If DTM_WRITE returns 0, the file will be deleted.

   INPUTS
        o        - Object like returned from NewDTObjectA

        win      - Window the object is attached to

        req      - Requester the object is attached to

        file     - file name to save to

        mode     - Save mode, (RAW, IFF etc.), one of the DTWM_#? identifiers

        saveicon - Save icon? Does not overwrite an existing icon.

        attrs    - Additional attributs

   TAGS
        Subclass specific.

        For example, animation.datatype V41 recognizes ADTA_Frame (start
        frame to save) and ADTA_Frames (number of frames to save).

   RETURNS
        success - The return value returned by DTM_WRITE or NULL for an
                  error.

   BUGS

   SEE ALSO
        datatypesclass/DTM_WRITE

datatypes.library/SetDTAttrsA                   datatypes.library/SetDTAttrsA

    NAME
	SetDTAttrsA - Set attributes for an object.             (V39)

    SYNOPSIS
	retval = SetDTAttrsA (o, win, req, attrs);
	d0		      a0  a1   a2   a3

	ULONG SetDTAttrsA (Object *, struct Window *, struct Requester *,
			   struct TagItem *);

	retval = SetDTAttrs (o, win, req, tag1, ...);

	ULONG SetDTAttrs (Object *, struct Window *, struct Requester *,
			  Tag tag1, ...);

    FUNCTION
	This function is used to set the attributes of a data type
	object.

    INPUTS
	o - Pointer to an object as returned by NewDTObjectA().

	win - Window that the object has been added to.

	attrs - Attributes to set, terminated with TAG_DONE.

    TAGS
	see <datatypes/datatypesclass.h> for tags.

    SEE ALSO
	GetDTAttrsA(), intuition.library/SetGadgetAttrsA()

datatypes.library/StartDragSelect           datatypes.library/StartDragSelect
    NAME
	StartDragSelect -- Start drag-selection                     (V45)

    SYNOPSIS
	success = StartDragSelect( o );

       ULONG StartDragSelect( Object * );

    FUNCTION
	This function starts drag-selection by the user (marking).

	This function replaces the old flag-fiddling method to
	start drag-select.

	The drag-select will only be started of the object supports
	DTM_SELECT, is in a window or requester and no layout-process
	is working on the object. If all conditions are good, it sets
	the DTSIF_DRAGSELECT flag and returns TRUE for success.

     INPUTS
	o - object like returned from NewDTObjectA

     RETURNS
	TRUE for success, FALSE for failure

   SEE ALSO

